var TTModernEditor=function(){this.propertyFilePath=this.propertyFilename3=this.propertyFilename2=this.propertyFilename1=this.propertyHeader=this.propertyWindowId="";this.propertyCurrentProportion3=this.propertyCurrentProportion2=this.propertyCurrentProportion1=0;this.propertyCurrentImage="";this.propertyOffsetTop=null;this.propertyNames=["propertyHyperLink","propertyInsertObject","propertyImage1","propertyImage2","propertyImage3","propertyObject","propertyObject1","propertyObject2","propertyiMazing",
"propertyGallery","propertyJukebox","propertyEmbed","propertyFlash","propertyMoreLess"];this.isStrike=this.isUnderline=this.isItalic=this.isBold=false;this.fontSize=this.fontName=null;this.textLess=this.textMore="";this.editMode="TEXTAREA";this.styleUnknown="style=\"width: 90px; height: 30px; border: 2px outset #796; background-color: #efd; background-repeat: no-repeat; background-position: center center; background-image: url('"+servicePath+"/resources/image/extension/unknown.gif')\"";this.buildFontMap()};
TTModernEditor.prototype.buildFontMap=function(){for(var a=_t("fontDisplayName:fontCode:fontFamily").split("|"),b=[["Andale Mono","times"],["Arial","helvetica","sans-serif"],["Arial Black","avant garde"],["Book Antiqua","palatino"],["Comic Sans MS","sand"],["Courier New","courier","monospace"],["Georgia","times new roman","times","serif"],["Helvetica"],["Impact","chicago"],["Symbol"],["Tahoma","arial","helvetica","sans-serif"],["Terminal","monaco"],["Times New Roman","times","serif"],["Trebuchet MS",
"geneva"],["Verdana","arial","helvetica","sans-serif"],["Webdings"],["Wingdings","zapf dingbats"]],c=[],d={},e=1;e<a.length;++e){var f=a[e].split(":");if(f.length==3){var g="'"+f[1]+"', "+f[2];c.push([f[0],g]);d[f[0]]=g;d[f[1]]=g}}for(e=0;e<b.length;++e){a=b[e];g="'"+a.join("','")+"'";c.push([a[0],g]);for(f=0;f<a.length;++f)d[a[f]]=g}this.allFontList=c;this.allFontMap=d};TTModernEditor.editors={};
TTModernEditor.prototype.initialize=function(a){if(!(typeof document.execCommand=="undefined"||!(STD.isIE||STD.isFirefox||STD.isWebkit&&STD.engineVersion>=419.3))){if(this.formatter=="textile"||this.formatter=="markdown"){this.editMode="TEXTAREA";this.restrictEditorMode=true}else this.restrictEditorMode=false;for(var b in TTModernEditor.editors)return b;this.name=b=(a.id||"unknown").replace(new RegExp("[^a-z0-9_]","gi"),"");for(var c=0;TTModernEditor.editors[this.name];++c)this.name=b+c;TTModernEditor.editors[this.name]=
this;this.id="moderneditor-"+this.name+"-";this.selection=this.selectedAnchorElement=this.selectedElement=null;b=document.createElement("div");b.id="moderneditor-textbox";b.className="container";b.style.width=Math.min(skinContentWidth+(STD.isIE?56:64),1050)+"px";document.getElementById("formatbox-container").innerHTML=this.getEditorPalette(true);a.parentNode.insertBefore(b,a);a.parentNode.removeChild(a);b.appendChild(a);c=document.createElement("hr");c.className="hidden";b.appendChild(c);b.appendChild(this.getEditorProperty());
a.className+=" moderneditor-textarea";this.textarea=a;if(this.editMode=="WYSIWYG")this.textarea.style.display="none";this.iframe=document.createElement("iframe");this.iframe.id="tatterVisualEditor";this.iframe.instance=this;this.iframe.className="tatterVisualArea";this.iframe.setAttribute("border","0");this.iframe.setAttribute("frameBorder","0");this.iframe.setAttribute("marginWidth","0");this.iframe.setAttribute("marginHeight","0");this.iframe.setAttribute("leftMargin","0");this.iframe.setAttribute("topMargin",
"0");this.iframe.setAttribute("allowtransparency","true");this.iframe.style.height=STD.isIE?"448px":"452px";this.iframe.style.margin="0px auto";this.iframe.style.overflowY="scroll";this.iframe.style.width=Math.min(skinContentWidth+(STD.isIE?56:64),1050)+"px";a.parentNode.insertBefore(this.iframe,a.nextSibling);if(STD.isIE){this.contentDocument=document.frames[this.iframe.id].document;this.contentWindow=this.contentDocument.parentWindow}else{this.contentWindow=this.iframe.contentWindow;this.contentDocument=
this.contentWindow.document}try{this.contentDocument.designMode="on"}catch(d){return}this.contentDocument.open("text/html","replace");this.contentDocument.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">');this.contentDocument.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ko"><head><meta http-equiv="content-type" content="text/html; charset=utf-8" />');this.contentDocument.write('<link rel="stylesheet" type="text/css" href="'+servicePath+
editorCSS+'" />');this.contentDocument.write('<style type="text/css">');this.contentDocument.write("/*<![CDATA[*/");STD.isIE?this.contentDocument.write("body { padding: 10px; }"):this.contentDocument.write("html { padding: 10px; }");this.contentDocument.write("/*]]\>*/");this.contentDocument.write("</style>");this.contentDocument.write("</head><body>");this.contentDocument.write(this.ttml2html());this.contentDocument.write("</body></html>");this.contentDocument.close();var e=this;STD.addEventListener(this.contentDocument);
b=function(f){e.eventHandler(f)};this.contentDocument.addEventListener("mousedown",b,false);this.contentDocument.addEventListener("mouseup",b,false);this.contentDocument.addEventListener("keydown",b,false);this.contentDocument.addEventListener("keypress",b,false);this.contentDocument.addEventListener("paste",b,false);this.contentDocument.addEventListener("keyup",b,false);this.lastSelectionRange=null;this.resizer=new TTEditorResizer(this.editMode=="WYSIWYG"?this.iframe:a,getObject("status-container"),
[document,this.contentDocument]);this.resizer.onResizeBegin=function(){getObject("attachManagerSelectNest").style.visibility="hidden";getObject(e.id+"propertyiMazing_list").style.visibility="hidden";getObject(e.id+"propertyGallery_list").style.visibility="hidden";getObject(e.id+"propertyJukebox_list").style.visibility="hidden"};this.resizer.onResizeEnd=function(){getObject("attachManagerSelectNest").style.visibility="visible";getObject(e.id+"propertyiMazing_list").style.visibility="visible";getObject(e.id+
"propertyGallery_list").style.visibility="visible";getObject(e.id+"propertyJukebox_list").style.visibility="visible"};this.resizer.initialize();STD.addEventListener(a);this.textareaEventHandler_bounded=b=function(){editorChanged();savePosition(e.textarea);return true};a.addEventListener("select",b,false);a.addEventListener("click",b,false);a.addEventListener("keyup",b,false);this.scrollEventHandler_bounded=a=function(){e.setPropertyPosition();return true};window.addEventListener("scroll",a,false);
if(this.editMode=="TEXTAREA")this.iframe.style.display="none";STD.isIE||setTimeout(function(){try{e.contentDocument.designMode="on"}catch(f){}},100)}};TTModernEditor.prototype.finalize=function(){return true};TTModernEditor.prototype.syncContents=function(){if(this.editMode=="WYSIWYG")this.textarea.value=this.html2ttml();else if(this.editMode=="TEXTAREA")this.contentDocument.body.innerHTML=this.ttml2html()};TTModernEditor.prototype.syncTextarea=function(){this.correctContent();return this.syncContents()};
TTModernEditor.prototype.ttml2html=function(){var a=this.textarea.value;a=a.replaceAll('class="Apple-style-span"',"");for(a=a.replaceAll('class="webkit-block-placeholder"',"");;){var b=a.indexOf("[#M_");if(b>-1){var c=a.indexOf("_M#]",b);if(c>-1){for(b=a.substring(b+4,c);;)if(b.indexOf("[#M_")==-1)break;else b=b.substring(b.indexOf("[#M_")+4,b.length);c=this.htmlspecialchars(b.substring(0,b.indexOf("|")));var d=b.substring(b.indexOf("|")+1,b.length),e=this.htmlspecialchars(d.substring(0,d.indexOf("|")));
d=d.substring(d.indexOf("|"),d.length);d=d.substring(d.indexOf("|")+1,d.length);a=a.replaceAll("[#M_"+b+"_M#]",'<div class="tattermoreless" more="'+c+'" less="'+e+'">'+d+"</div>")}else break}else break}for(d=/\[##_(([1-3][CLR])(\|[^|]*?)+)_##\]/;result=d.exec(a);){b=result[0];c=' longdesc="'+this.addQuot(this.htmlspecialchars(result[1]))+'" ';c=c.replaceAll("&lt;","&amp;lt;");c=c.replaceAll("&gt;","&amp;gt;");e=result[1].split("|");var f=e[0];if(this.isImageFile(e[1])){var g=this.propertyFilePath+
e[1];e=this.parseImageSize(e[2],"string")}else{g=servicePath+adminSkin+"/image/spacer.gif";e=this.styleUnknown}switch(f){case "1L":var h='<img class="tatterImageLeft" src="'+g+'" '+e+c+" />";break;case "1R":h='<img class="tatterImageRight" src="'+g+'" '+e+c+" />";break;case "1C":h='<img class="tatterImageCenter" src="'+g+'" '+e+c+" />";break;case "2C":h='<img class="tatterImageDual" src="'+servicePath+adminSkin+'/image/spacer.gif" width="200" height="100" '+c+" />";break;case "3C":h='<img class="tatterImageTriple" src="'+
servicePath+adminSkin+'/image/spacer.gif" width="300" height="100" '+c+" />"}a=a.replaceAll(b,h)}for(h=/\[##_iMazing\|(.*?)_##\]/;result=h.exec(a);){b=result[0];c=' longdesc="iMazing|'+this.addQuot(this.htmlspecialchars(result[1]))+'" ';c=c.replaceAll("&lt;","&amp;lt;");c=c.replaceAll("&gt;","&amp;gt;");e=this.parseImageSize(result[1],"string");a=a.replaceAll(b,'<img class="tatterImazing" src="'+servicePath+adminSkin+'/image/spacer.gif" '+e+c+" />")}for(h=/\[##_Gallery\|(.*?)_##\]/;result=h.exec(a);){b=
result[0];c=' longdesc="Gallery|'+this.addQuot(this.htmlspecialchars(result[1]))+'" ';c=c.replaceAll("&lt;","&amp;lt;");c=c.replaceAll("&gt;","&amp;gt;");e=this.parseImageSize(result[1],"string");a=a.replaceAll(b,'<img class="tatterGallery" src="'+servicePath+adminSkin+'/image/spacer.gif" '+e+c+" />")}for(h=/\[##_Jukebox\|(.*?)_##\]/;result=h.exec(a);){b=result[0];c=' longdesc="Jukebox|'+this.addQuot(this.htmlspecialchars(result[1]))+'" ';c=c.replaceAll("&lt;","&amp;lt;");c=c.replaceAll("&gt;","&amp;gt;");
a=a.replaceAll(b,'<img class="tatterJukebox" src="'+servicePath+adminSkin+'/image/spacer.gif" width="200" height="25"'+c+" />")}for(d=/src=["']?(\[##_ATTACH_PATH_##\][a-z.0-9\/]*)/i;result=d.exec(a);)a=a.replaceAll(result[0],'class="tatterImageFree" longdesc="'+result[1]+'" src="'+this.propertyFilePath.substring(0,this.propertyFilePath.length-1)+result[1].replaceAll("[##_ATTACH_PATH_##]",""));h=getTagChunks(a,"object");if(h.length>0)for(i in h)a=a.replaceAll(h[i],'<img class="tatterObject" src="'+
servicePath+adminSkin+'/image/spacer.gif"'+this.parseImageSize(h[i],"string","css")+' longDesc="'+this.objectSerialize(h[i])+'" />');for(h=/<embed([^<]*?)application\/x-shockwave-flash(.*?)><\/embed>/i;result=h.exec(a);){d=result[0];a=a.replaceAll(d,'<img class="tatterFlash" src="'+servicePath+adminSkin+'/image/spacer.gif"'+this.parseImageSize(d,"string","css")+' longDesc="'+this.parseAttribute(d,"src")+'"/>')}for(h=/<embed([^<]*?)><\/embed>/i;result=h.exec(a);){d=result[0];a=a.replaceAll(d,'<img class="tatterEmbed" src="'+
servicePath+adminSkin+'/image/spacer.gif"'+this.parseImageSize(d,"string","css")+' longDesc="'+this.parseAttribute(d,"src")+'"/>')}return a};
TTModernEditor.prototype.html2ttml=function(){var a=this.contentDocument.body.innerHTML;if(STD.isWebkit){a=a.replace(new RegExp("(&lt;[^<]*?)>","gi"),"$1&gt;");a=a.replaceAll("<div><br /></div>","<br />")}a=this.morelessConvert(a);a=a.replace(new RegExp("<p[^>]*?>&nbsp;</p>","gi"),"<br />");a=a.replace(new RegExp("<(\\w+)[^>]*></\\1>","gi"),"");a=a.replace(new RegExp("([^> ])&nbsp;([^ ])","gi"),"$1 $2");for(var b=/<a>(((?!<a>).)*?)<\/a>/i;result=b.exec(a);)a=a.replaceAll(result[0],result[1]);for(var c=
/<img[^>]*?class=["']?tatterImage[^>]*?>/i;result=c.exec(a);){b=result[0];var d=this.parseAttribute(result[0],"longdesc");if(d&&d.indexOf("[##_ATTACH_PATH_##]")==-1)a=a.replaceAll(b,"[##_"+this.removeQuot(d).replace(new RegExp("&amp;","gi"),"&")+"_##]");else{var e=this.parseAttribute(b,"align").toLowerCase();a=e=="left"||e=="right"||e=="center"?a.replaceAll(b,'<img src="'+d+'"'+this.parseImageSize(b,"string")+'align="'+e+'"/>'):a.replaceAll(b,'<img src="'+d+'"'+this.parseImageSize(b,"string")+"/>")}}for(e=
/<img[^>]*class=["']?tatterImazing[^>]*>/i;result=e.exec(a);){b=result[0];c=this.parseImageSize(b,"array");d=this.parseAttribute(result[0],"longdesc");d=this.removeQuot(d);d=d.replace(/(width=["']?)\d*/i,"$1"+c[0]);d=d.replace(/(height=["']?)\d*/i,"$1"+c[1]);a=a.replaceAll(b,"[##_"+d.replace(new RegExp("&amp;","gi"),"&")+"_##]")}for(e=/<img[^>]*class=["']?tatterGallery[^>]*>/i;result=e.exec(a);){b=result[0];c=this.parseImageSize(b,"array");d=this.parseAttribute(result[0],"longdesc");d=this.removeQuot(d);
d=d.replace(/(width=["']?)\d*/i,"$1"+c[0]);d=d.replace(/(height=["']?)\d*/i,"$1"+c[1]);d=d.split("|");d.length%2==1&&d.length--;c="";for(var f=1;f<d.length-1;f++)c+=d[f].replace(new RegExp("&amp;","gi"),"&")+"|";a=a.replaceAll(b,"[##_Gallery|"+c+this.unHtmlspecialchars(trim(d[d.length-1]))+"_##]")}for(e=/<img[^>]*class=["']?tatterJukebox[^>]*>/i;result=e.exec(a);){b=result[0];c=this.parseImageSize(b,"array");d=this.parseAttribute(result[0],"longdesc");d=this.removeQuot(d);d=d.replace(/(width=["']?)\d*/i,
"$1"+c[0]);d=d.replace(/(height=["']?)\d*/i,"$1"+c[1]);d=d.split("|");c="";for(f=1;f<d.length-2;f++)c+=d[f].replace(new RegExp("&amp;","gi"),"&")+"|";a=a.replaceAll(b,"[##_Jukebox|"+c+this.unHtmlspecialchars(trim(d[d.length-2]))+"|_##]")}for(d=/<img[^>]*class=["']?tatterObject.*?>/i;result=d.exec(a);){b=result[0];e=this.objectUnSerialize(this.parseAttribute(b,"longdesc"));f=/width=["']?\w+["']?/i.exec(e);var g=/height=["']?\w+["']?/i.exec(e);c=this.parseImageSize(b,"array");if(f)e=e.replaceAll(f[0],
'width="'+c[0]+'"');if(g)e=e.replaceAll(g[0],'height="'+c[1]+'"');a=a.replaceAll(b,e)}for(c=/<img[^>]*class=["']?tatterEmbed.*?>/i;result=c.exec(a);){b=result[0];a=a.replaceAll(b,'<embed autostart="0" src="'+this.parseAttribute(b,"longdesc")+'"'+this.parseImageSize(b,"string","css")+"></embed>")}for(c=/<img[^>]*class=["']?tatterFlash.*?>/i;result=c.exec(a);){b=result[0];a=a.replaceAll(b,'<embed loop="true" menu="false" quality="high" '+this.parseImageSize(b,"string")+' type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash" src="'+
this.parseAttribute(b,"longdesc")+'"></embed>')}return a};TTModernEditor.prototype.morelessConvert=function(a){for(;/<div[^>]*?class=['"]?tattermoreless[^>]*>/i.test(a);)a=this.morelessConvert_process(a);return a};
TTModernEditor.prototype.morelessConvert_process=function(a){var b="",c=pos2=0,d=/<div[^>]*?class=['"]?tattermoreless[^>]*>/i,e=undefined;if((c=a.indexOfCaseInsensitive(d,pos2))>-1){b+=a.substring(0,c);do{if((pos2=a.indexOfCaseInsensitive(/<\/div>/i,Math.max(c,pos2)))==-1)return b+a.substring(c,a.length).replace(d,"");pos2+=6;e=a.substring(c,pos2)}while(e!=""&&e.count(new RegExp("<div[>\\s]","gi"))!=e.count(new RegExp("</div>","gi")));c=this.parseAttribute(e,"less").replaceAll("&amp;","&");var f=
this.parseAttribute(e,"more").replaceAll("&amp;","&");e=e.replace(d,"[#M_"+f+"|"+c+"|");e=e.replace(/<\/div>$/i,"_M#]");b+=e}return b+a.substring(pos2,a.length)};
TTModernEditor.prototype.showProperty=function(a){this.selectedAnchorElement=null;this.selection=this.getSelectionRange();var b=a.getAttribute("longdesc");getObject(this.id+"textBox").style.display="none";getObject(this.id+"colorPalette").style.display="none";getObject(this.id+"markPalette").style.display="none";getObject(this.id+"propertyImage1").style.display="none";getObject(this.id+"propertyImage2").style.display="none";getObject(this.id+"propertyImage3").style.display="none";getObject(this.id+
"propertyObject").style.display="none";getObject(this.id+"propertyObject1").style.display="none";getObject(this.id+"propertyObject2").style.display="none";getObject(this.id+"propertyObject3").style.display="none";getObject(this.id+"propertyiMazing").style.display="none";getObject(this.id+"propertyiMazing_preview").style.display="none";getObject(this.id+"propertyGallery").style.display="none";getObject(this.id+"propertyGallery_preview").style.display="none";getObject(this.id+"propertyJukebox").style.display=
"none";getObject(this.id+"propertyEmbed").style.display="none";getObject(this.id+"propertyMoreLess").style.display="none";this.changeButtonStatus(null,null);if(a.className=="tatterObject"){this.propertyHeader="tatterObject";this.propertyWindowId=this.id+"propertyObject";var c=this.parseImageSize(this.selectedElement,"array");getObject(this.id+"propertyObject_width").value=c[0];getObject(this.id+"propertyObject_height").value=c[1];getObject(this.id+"propertyObject_chunk").value=this.objectUnSerialize(b);
getObject(this.id+"propertyInsertObject").style.display="none";getObject(this.id+"propertyHyperLink").style.display="none";getObject(this.id+"propertyObject").style.display="block"}else if(a.className=="tatterEmbed"){this.propertyHeader="tatterEmbed";this.propertyWindowId=this.id+"propertyEmbed";c=this.parseImageSize(this.selectedElement,"array");getObject(this.id+"propertyEmbed_width").value=c[0];getObject(this.id+"propertyEmbed_height").value=c[1];getObject(this.id+"propertyEmbed_src").value=b;
getObject(this.id+"propertyEmbed").style.display="block"}else if(a.tagName&&a.tagName.toLowerCase()=="img"&&b){b=b.split("|");if(b.length==1)return false;this.propertyHeader=b[0];if(b[0]=="iMazing"||b[0]=="Gallery"||b[0]=="Jukebox"){var d=1;c=b[0];a=this.id+"property"+c}else{d=b[0].charAt(0);c=this.isImageFile(b[1])?"Image":"Object";a=this.id+"property"+c+d}this.propertyWindowId=a;if(c=="Image"){getObject(a+"_width1").value=trim(this.removeQuot(this.parseAttribute(b[2],"width")));getObject(a+"_alt1").value=
trim(this.unHtmlspecialchars(this.removeQuot(this.parseAttribute(b[2],"alt"))));getObject(a+"_caption1").value=trim(this.unHtmlspecialchars(this.removeQuot(b[3])));this.propertyFilename1=b[1];if(d==1){c=this.parseImageSize(this.selectedElement,"array");if(this.propertyCurrentImage==this.selectedElement.getAttribute("src")){var e=c[0];c=parseInt(c[0]*this.propertyCurrentProportion1);this.propertyCurrentProportion1=c/e;this.selectedElement.removeAttribute("width");this.selectedElement.removeAttribute("height");
if(!isNaN(e))this.selectedElement.style.width=e+"px";if(!isNaN(c))this.selectedElement.style.height=c+"px"}else{this.propertyCurrentProportion1=c[1]/c[0];this.propertyCurrentImage=this.selectedElement.getAttribute("src")}}else{c=this.parseImageSize(b[2],"array");this.propertyCurrentProportion1=c[1]/c[0];if(d>1){c=this.parseImageSize(b[5],"array");this.propertyCurrentProportion2=c[1]/c[0]}if(d>2){c=this.parseImageSize(b[8],"array");this.propertyCurrentProportion3=c[1]/c[0]}}if(d>1){getObject(a+"_width2").value=
trim(this.removeQuot(this.parseAttribute(b[5],"width")));getObject(a+"_alt2").value=trim(this.unHtmlspecialchars(this.removeQuot(this.parseAttribute(b[5],"alt"))));getObject(a+"_caption2").value=trim(this.unHtmlspecialchars(this.removeQuot(b[6])))}this.propertyFilename2=b[4];if(d>2){getObject(a+"_width3").value=trim(this.removeQuot(this.parseAttribute(b[8],"width")));getObject(a+"_alt3").value=trim(this.unHtmlspecialchars(this.removeQuot(this.parseAttribute(b[8],"alt"))));getObject(a+"_caption3").value=
trim(this.unHtmlspecialchars(this.removeQuot(b[9])))}this.propertyFilename3=b[7]}else if(c=="Object"){getObject(a+"_caption1").value=trim(this.unHtmlspecialchars(this.removeQuot(b[3])));getObject(a+"_filename1").value=this.getFilenameFromFilelist(b[1]);this.propertyFilename1=b[1];if(d>1){getObject(a+"_caption2").value=trim(this.unHtmlspecialchars(this.removeQuot(b[6])));getObject(a+"_filename2").value=this.getFilenameFromFilelist(b[4]);this.propertyFilename2=b[4]}if(d>2){getObject(a+"_caption3").value=
trim(this.unHtmlspecialchars(this.removeQuot(b[9])));getObject(a+"_filename3").value=this.getFilenameFromFilelist(b[7]);this.propertyFilename3=b[7]}}else if(c=="iMazing"){c=this.parseImageSize(this.selectedElement,"array");d=b[b.length-2];getObject(a+"_width").value=c[0];getObject(a+"_height").value=c[1];getObject(a+"_frame").value=this.parseAttribute(d,"frame");getObject(a+"_tran").value=this.parseAttribute(d,"transition");getObject(a+"_nav").value=this.parseAttribute(d,"navigation");getObject(a+
"_sshow").value=this.parseAttribute(d,"slideshowInterval");getObject(a+"_page").value=this.parseAttribute(d,"page");getObject(a+"_align").value=this.parseAttribute(d,"align");getObject(a+"_caption").value=trim(this.unHtmlspecialchars(this.removeQuot(b[b.length-1])));c=getObject(a+"_list");c.innerHTML="";for(d=1;d<b.length-2;d+=2)c.options[c.length]=new Option(this.getFilenameFromFilelist(b[d]),b[d]+"|",false,false)}else if(c=="Gallery"){c=this.parseImageSize(this.selectedElement,"array");getObject(a+
"_width").value=c[0];getObject(a+"_height").value=c[1];getObject(a+"_caption").value="";c=getObject(a+"_list");c.innerHTML="";for(d=1;d<b.length-2;d+=2){c.options[c.length]=new Option(this.getFilenameFromFilelist(b[d]),b[d]+"|"+this.unHtmlspecialchars(b[d+1]),false,false);if(d==1){c.selectedIndex=0;this.listChanged("propertyGallery_list")}}}else if(c=="Jukebox"){getObject(a+"_autoplay").checked=this.parseAttribute(b[b.length-2],"autoplay")==1;getObject(a+"_visibility").checked=this.parseAttribute(b[b.length-
2],"visible")==1;c=getObject(a+"_list");c.innerHTML="";for(d=1;d<b.length-2;d+=2)c.options[c.length]=new Option(this.getFilenameFromFilelist(b[d]),b[d]+"|"+this.unHtmlspecialchars(b[d+1]),false,false)}getObject(a).style.display="block"}else{for(a=a;a.parentNode;){if(a.tagName&&a.tagName.toLowerCase()=="div"&&a.getAttribute("more")!=null&&a.getAttribute("less")!=null){b=a.getAttribute("more");a=a.getAttribute("less");getObject(this.id+"propertyInsertObject").style.display="none";getObject(this.id+
"propertyHyperLink").style.display="none";getObject(this.id+"propertyMoreLess").style.display="block";getObject(this.id+"propertyMoreLess_more").value=trim(this.unHtmlspecialchars(b));getObject(this.id+"propertyMoreLess_less").value=trim(this.unHtmlspecialchars(a));this.propertyWindowId=this.id+"propertyMoreLess";getObject(this.id+"propertyHyperLink").style.display="none";this.setPropertyPosition();return false}else if(a.tagName.toLowerCase()=="a"&&a.href){getObject(this.id+"propertyHyperLink").style.display=
"block";getObject(this.id+"propertyHyperLink_url").value=a.href;getObject(this.id+"propertyHyperLink_target").value=a.target;if(getObject(this.id+"propertyHyperLink_target").selectedIndex==-1)getObject(this.id+"propertyHyperLink_target").value="_self";this.selectedAnchorElement=a;this.propertyWindowId=this.id+"propertyHyperLink";getObject(this.id+"propertyMoreLess").style.display="none";getObject(this.id+"propertyInsertObject").style.display="none";getObject(this.id+"propertyObject").style.display=
"none";this.setPropertyPosition();return false}a=a.parentNode}b=STD.isIE?this.getSelectionRange().htmlText=="":this.getSelectionRange().startOffset==this.getSelectionRange().endOffset;if(this.selectedAnchorElement==null&&b)getObject(this.id+"propertyHyperLink").style.display="none";return false}this.setPropertyPosition();return true};
TTModernEditor.prototype.setProperty=function(){var a=this.selectedElement.getAttribute("longdesc");if(this.selectedElement.className=="tatterObject"||this.selectedElement.className=="tatterEmbed"||this.selectedElement.className=="tatterFlash"){this.selectedElement.removeAttribute("width");this.selectedElement.removeAttribute("height");this.selectedElement.style.width="auto";this.selectedElement.style.height="auto";try{var b=parseInt(getObject(this.propertyWindowId+"_width").value);if(!isNaN(b)&&
b>0&&b<1E4)this.selectedElement.style.width=b+"px";var c=parseInt(getObject(this.propertyWindowId+"_height").value);if(!isNaN(c)&&c>0&&c<1E4)this.selectedElement.style.height=c+"px"}catch(d){}this.selectedElement.className=="tatterEmbed"||this.selectedElement.className=="tatterFlash"?this.selectedElement.setAttribute("longDesc",getObject(this.propertyWindowId+"_src").value):this.selectedElement.setAttribute("longDesc",this.objectSerialize(getObject(this.propertyWindowId+"_chunk").value))}else if(this.selectedElement.tagName&&
this.selectedElement.tagName.toLowerCase()=="img"&&a)if(this.propertyWindowId.indexOf(this.id+"propertyImage")==0){b=this.propertyWindowId.charAt(this.propertyWindowId.length-1);if(b==1){this.selectedElement.removeAttribute("width");this.selectedElement.removeAttribute("height");this.selectedElement.style.width="auto";this.selectedElement.style.height="auto";try{var e=parseInt(getObject(this.propertyWindowId+"_width1").value);if(!isNaN(e)&&e>0&&e<1E4){c=e;var f=parseInt(e*this.propertyCurrentProportion1);
this.selectedElement.style.width=c+"px";this.selectedElement.style.height=f+"px"}}catch(g){}}var h=a=c="";try{e=parseInt(getObject(this.propertyWindowId+"_width1").value);if(!isNaN(e)&&e>0&&e<1E4)c='width="'+e+'" height="'+parseInt(e*this.propertyCurrentProportion1)+'" '}catch(j){}try{if(this.isImageFile(this.propertyFilename1))a='alt="'+this.htmlspecialchars(getObject(this.propertyWindowId+"_alt1").value)+'"'}catch(k){a='alt=""'}try{h=this.htmlspecialchars(getObject(this.propertyWindowId+"_caption1").value)}catch(l){h=
""}f=this.propertyHeader+"|"+this.propertyFilename1+"|"+c+a+"|"+h;if(b>1){h=a=c="";try{e=parseInt(getObject(this.propertyWindowId+"_width2").value);if(!isNaN(e)&&e>0&&e<1E4)c='width="'+e+'" height="'+parseInt(e*this.propertyCurrentProportion2)+'" '}catch(m){}try{if(this.isImageFile(this.propertyFilename2))a='alt="'+this.htmlspecialchars(getObject(this.propertyWindowId+"_alt2").value)+'"'}catch(n){a='alt = ""'}try{h=this.htmlspecialchars(getObject(this.propertyWindowId+"_caption2").value)}catch(o){h=
""}f+="|"+this.propertyFilename2+"|"+c+a+"|"+h}if(b>2){h=a=c="";try{e=parseInt(getObject(this.propertyWindowId+"_width3").value);if(!isNaN(e)&&e>0&&e<1E4)c='width="'+e+'" height="'+parseInt(e*this.propertyCurrentProportion3)+'" '}catch(p){}try{if(this.isImageFile(this.propertyFilename3))a='alt="'+this.htmlspecialchars(getObject(this.propertyWindowId+"_alt3").value)+'"'}catch(q){a='alt = ""'}try{h=this.htmlspecialchars(getObject(this.propertyWindowId+"_caption3").value)}catch(r){h=""}f+="|"+this.propertyFilename3+
"|"+c+a+"|"+h}this.selectedElement.setAttribute("longDesc",f)}else if(this.propertyWindowId.indexOf(this.id+"propertyObject")==0){b=this.propertyWindowId.charAt(this.propertyWindowId.length-1);f=this.propertyHeader+"|"+this.propertyFilename1+"||"+this.htmlspecialchars(getObject(this.propertyWindowId+"_caption1").value);if(b>1)f+="|"+this.propertyFilename2+"||"+this.htmlspecialchars(getObject(this.propertyWindowId+"_caption2").value);if(b>2)f+="|"+this.propertyFilename3+"||"+this.htmlspecialchars(getObject(this.propertyWindowId+
"_caption3").value);this.selectedElement.setAttribute("longDesc",f)}else if(this.propertyWindowId.indexOf(this.id+"propertyiMazing")==0){e=getObject(this.id+"propertyiMazing_list");f="iMazing|";for(b=0;b<e.length;b++)f+=e[b].value.substring(0,e[b].value.indexOf("|"))+"||";this.selectedElement.removeAttribute("width");this.selectedElement.removeAttribute("height");this.selectedElement.style.width="auto";this.selectedElement.style.height="auto";e="";b=parseInt(getObject(this.id+"propertyiMazing_width").value);
if(!isNaN(b)&&b>0&&b<1E4){this.selectedElement.style.width=b+"px";e='width="'+b+'" '}c=parseInt(getObject(this.id+"propertyiMazing_height").value);if(!isNaN(c)&&c>0&&c<1E4){this.selectedElement.style.height=c+"px";e+='height="'+c+'"'}if(isNaN(b)&&isNaN(c)){this.selectedElement.style.width=this.selectedElement.style.height="100px";e='width="100" height="100"'}f+=e;f+=' frame="'+getObject(this.id+"propertyiMazing_frame").value+'"';f+=' transition="'+getObject(this.id+"propertyiMazing_tran").value+'"';
f+=' navigation="'+getObject(this.id+"propertyiMazing_nav").value+'"';f+=' slideshowInterval="'+getObject(this.id+"propertyiMazing_sshow").value+'"';f+=' page="'+getObject(this.id+"propertyiMazing_page").value+'"';f+=' align="'+getObject(this.id+"propertyiMazing_align").value+'"';f+=' skinPath="'+servicePath+'/script/gallery/iMazing/"';f+="|"+this.htmlspecialchars(getObject(this.id+"propertyiMazing_caption").value);this.selectedElement.setAttribute("longDesc",f)}else if(this.propertyWindowId.indexOf(this.id+
"propertyGallery")==0){e=getObject(this.id+"propertyGallery_list");f="Gallery|";if(e.selectedIndex!=-1){c=getObject(this.id+"propertyGallery_caption").value.replaceAll("|","");b=e[e.selectedIndex].value.split("|");e[e.selectedIndex].value=b[0]+"|"+c}for(b=0;b<e.length;b++)f+=this.htmlspecialchars(e[b].value)+"|";this.selectedElement.removeAttribute("width");this.selectedElement.removeAttribute("height");this.selectedElement.style.width="auto";this.selectedElement.style.height="auto";e="";b=parseInt(getObject(this.id+
"propertyGallery_width").value);if(!isNaN(b)&&b>0&&b<1E4){this.selectedElement.style.width=b+"px";e='width="'+b+'" '}c=parseInt(getObject(this.id+"propertyGallery_height").value);if(!isNaN(c)&&c>0&&c<1E4){this.selectedElement.style.height=c+"px";e+='height="'+c+'"'}if(isNaN(b)&&isNaN(c)){this.selectedElement.style.width=this.selectedElement.style.height="100px";e="width=100 height=100"}f+=trim(e)+"|";this.selectedElement.setAttribute("longDesc",f)}else{if(this.propertyWindowId.indexOf(this.id+"propertyJukebox")==
0){e=getObject(this.id+"propertyJukebox_list");f="Jukebox|";if(e.selectedIndex!=-1){c=getObject(this.id+"propertyJukebox_title").value.replaceAll("|","");b=e[e.selectedIndex].value.split("|");e[e.selectedIndex].value=b[0]+"|"+c}for(b=0;b<e.length;b++)f+=e[b].value+"|";f+="autoplay="+(getObject(this.id+"propertyJukebox_autoplay").checked?1:0);f+=" visible="+(getObject(this.id+"propertyJukebox_visibility").checked?1:0);this.selectedElement.setAttribute("longDesc",f+"|")}}else if(this.selectedElement.tagName&&
this.selectedElement.tagName.toLowerCase()=="div"&&this.selectedElement.getAttribute("more")!=null&&this.selectedElement.getAttribute("less")!=null){this.selectedElement.setAttribute("more",this.htmlspecialchars(getObject(this.id+"propertyMoreLess_more").value));this.selectedElement.setAttribute("less",this.htmlspecialchars(getObject(this.id+"propertyMoreLess_less").value))}};
TTModernEditor.prototype.command=function(a,b,c){var d=false;try{if(this.editMode=="WYSIWYG")d=true}catch(e){}switch(a){case "ToggleMode":try{this.toggleMode();this.trimContent()}catch(f){}break;case "Bold":if(d){this.execCommand("Bold",false,null);this.activeButton()}else insertTag(this.textarea,"<strong>","</strong>");break;case "Italic":if(d){this.execCommand("Italic",false,null);this.activeButton()}else insertTag(this.textarea,"<em>","</em>");break;case "Underline":if(d){this.execCommand("Underline",
false,null);this.activeButton()}else insertTag(this.textarea,"<ins>","</ins>");break;case "StrikeThrough":if(d){this.execCommand("StrikeThrough",false,null);this.activeButton()}else insertTag(this.textarea,"<del>","</del>");break;case "FontSize":if(b.substring(0,1)=="h")if(STD.isIE)this.getSelectionRange().htmlText==""?this.execCommand("FormatBlock",false,"<"+b+">"):this.command("Raw","<"+b+">","</"+b+">");else this.execCommand("FormatBlock",false,b);else this.execCommand("FontSize",false,b);break;
case "Color":d?this.execCommand("ForeColor",false,b):this.command("Raw",'<span style="color: '+b+'">',"</span>");break;case "Mark":if(d)STD.isIE?this.execCommand("BackColor",false,b):this.execCommand("HiliteColor",false,b);else this.command("Raw",'<span style="background-color: '+b+'">',"</span>");break;case "RemoveFormat":if(d)if(STD.isIE){if(this.getSelectionRange().htmlText!="")if(this.getSelectionRange().parentElement().outerHTML==this.getSelectionRange().htmlText)this.getSelectionRange().parentElement().outerHTML=
this.removeFormatting(this.getSelectionRange().htmlText);else this.getSelectionRange().pasteHTML(this.removeFormatting(this.getSelectionRange().htmlText))}else if(this.getSelectionRange().startOffset!=this.getSelectionRange().endOffset){d=this.getSelectionRange();a=document.createElement("div");a.appendChild(d.extractContents());d.insertNode(d.createContextualFragment(this.removeFormatting(a.innerHTML)))}break;case "JustifyLeft":blockAlign="left";case "JustifyCenter":if(typeof blockAlign=="undefined")blockAlign=
"center";case "JustifyRight":if(typeof blockAlign=="undefined")blockAlign="right";if(d)if(STD.isIE)if(this.selectedElement&&this.selectedElement.tagName=="IMG")switch(this.selectedElement.className){default:this.execCommand("Justify"+blockAlign,false,null);break;case "":case "tatterImageFree":d=this.selectedElement;d.removeAttribute("align");if(blockAlign=="center")this.execCommand("Justify"+blockAlign,false,null);else{d.setAttribute("align",blockAlign);if((b=this.selectedElement.parentNode)&&(b.tagName==
"P"||b.tagName=="DIV")&&b.childNodes.length==1&&b.parentNode)b.parentNode.replaceChild(d,b)}}else if(this.getSelectionRange().htmlText){d=document.createElement("div");d.innerHTML=this.getSelectionRange().htmlText;if(d.childNodes.length==1&&(d.childNodes[0].tagName=="P"||d.childNodes[0].tagName=="DIV")){d.childNodes[0].style.textAlign=blockAlign;this.getSelectionRange().parentElement().outerHTML=d.innerHTML}else if((d=this.getSelectionRange().parentElement())&&d.tagName!="BODY"&&d.innerHTML==this.getSelectionRange().htmlText)d.style.textAlign=
blockAlign;else{for(b=0;b<d.childNodes.length;b++)if(d.childNodes[b].tagName=="P"||d.childNodes[b].tagName=="DIV"){d.childNodes[b].removeAttribute("align");d.childNodes[b].style.textAlign=""}this.getSelectionRange().pasteHTML('<div style="text-align: '+blockAlign+'">'+this.getSelectionRange().htmlText+"</div>")}}else if((b=this.getSelectionRange().parentElement())&&(b.tagName=="P"||b.tagName=="DIV")&&b.childNodes.length==1)b.style.textAlign=blockAlign;else{delete blockAlign;return}else this.execCommand("Justify"+
blockAlign,false,null);else insertTag(this.textarea,'<div style="text-align: '+blockAlign+'">',"</div>");delete blockAlign;this.trimContent();break;case "InsertUnorderedList":if(d){if(d=STD.isIE?this.getSelectionRange().htmlText=="":this.getSelectionRange().startOffset==this.getSelectionRange().endOffset)this.execCommand("InsertUnorderedList",false,null);else{try{var g=this.activeButton(this.getSelectionRange().parentElement())}catch(h){try{g=this.activeButton(this.getSelectionRange().commonAncestorContainer.parentNode)}catch(j){}}if(!(g&&
/^[UO]L$/i.test(g.tagName)))if(STD.isIE)this.getSelectionRange().pasteHTML("<ul>\n<li>"+this.getSelectionRange().htmlText.replace(new RegExp("<br />","gi"),"</li>\n<li>")+"</li>\n</ul>");else{d=this.getSelectionRange();a=document.createElement("div");a.appendChild(d.extractContents());b=a.innerHTML.replace(new RegExp("<br />","gi"),"</li><li>");d.insertNode(d.createContextualFragment("<ul><li>"+b+"</li></ul>"))}}this.trimContent()}else insertTag(this.textarea,"<ul><li>","</li></ul>");break;case "InsertOrderedList":if(d){if(d=
STD.isIE?this.getSelectionRange().htmlText=="":this.getSelectionRange().startOffset==this.getSelectionRange().endOffset)this.execCommand("InsertOrderedList",false,null);else{try{g=this.activeButton(this.getSelectionRange().parentElement())}catch(k){try{g=this.activeButton(this.getSelectionRange().commonAncestorContainer.parentNode)}catch(l){}}if(!(g&&/^[UO]L$/.test(g.tagName)))if(STD.isIE)this.getSelectionRange().pasteHTML("<ol><li>"+this.getSelectionRange().htmlText.replace(new RegExp("<br />","gi"),
"</li><li>")+"</li></ol>");else{d=this.getSelectionRange();a=document.createElement("div");a.appendChild(d.extractContents());b=a.innerHTML.replace(new RegExp("<br />","gi"),"</li><li>");d.insertNode(d.createContextualFragment("<ol><li>"+b+"</li></ol>"))}}this.trimContent()}else insertTag(this.textarea,"<ol><li>","</li></ol>");break;case "Indent":if(d){this.execCommand("Indent",false,null);this.trimContent()}break;case "Outdent":if(d){this.execCommand("Outdent",false,null);this.trimContent()}break;
case "Blockquote":this.command("Raw","<blockquote>","</blockquote>");this.trimContent();break;case "Box":if(d&&!STD.isIE)if(this.selection==null||this.selection.startOffset==this.selection.endOffset){alert(s_selectBoxArea);return}this.command("Raw",'<div style="'+b+'">',"</div>");this.trimContent();break;case "CreateLink":if(!d){this.command("Raw",'<a href="">',"</a>");return}if(STD.isIE){if(this.selection==null||this.selection.htmlText==""){alert(s_selectLinkArea);return}}else if(this.selection==
null||this.selection.startOffset==this.selection.endOffset){alert(s_selectLinkArea);return}this.propertyWindowId=this.id+"propertyHyperLink";getObject(this.id+"propertyMoreLess").style.display="none";getObject(this.id+"propertyInsertObject").style.display="none";getObject(this.id+"propertyObject").style.display="none";getObject(this.id+"propertyHyperLink").style.display="block";getObject(this.id+"propertyHyperLink_url").value="";getObject(this.id+"propertyHyperLink_target").selectedIndex=0;break;
case "ExcuteCreateLink":b=getObject(this.id+"propertyHyperLink_url").value.trim();d=getObject(this.id+"propertyHyperLink_target").value;if(b==""){alert(s_enterURL);return}if(this.selectedAnchorElement){this.selectedAnchorElement.href=b;if(d=="_self")this.selectedAnchorElement.removeAttribute("target");else this.selectedAnchorElement.target=d;getObject(this.id+"propertyHyperLink").style.display="none";STD.isIE&&this.selection.select()}else{if(STD.isIE){if(!this.selection.htmlText||this.selection.htmlText==
""){alert(s_selectLinkArea);return}}else if(this.selection.startOffset==this.selection.endOffset){alert(s_selectLinkArea);return}b='<a href="'+b+'"';if(d!="_self")b+=' target="'+d+'"';b+=">";if(STD.isIE){this.selection.select();this.selection.pasteHTML(b+this.selection.htmlText+"</a>")}else this.command("Raw",b,"</a>");getObject(this.id+"propertyHyperLink").style.display="none"}break;case "CancelCreateLink":if(this.selectedAnchorElement){b=this.selectedAnchorElement;if(STD.isIE)b.outerHTML=b.innerHTML;
else{d=this.getSelectionRange();d=d.createContextualFragment(b.innerHTML);b.parentNode.replaceChild(d,b)}}getObject(this.id+"propertyHyperLink").style.display="none";break;case "ObjectBlock":this.propertyWindowId=this.id+"propertyInsertObject";getObject(this.id+"propertyMoreLess").style.display="none";getObject(this.id+"propertyHyperLink").style.display="none";getObject(this.id+"propertyObject").style.display="none";getObject(this.id+"propertyInsertObject").style.display="block";getObject(this.id+
"propertyInsertObject_url").value="";getObject(this.id+"propertyInsertObject_chunk").value="";break;case "HideObjectBlock":getObject(this.id+"propertyInsertObject").style.display="none";break;case "InsertObject":if(getObject(this.id+"propertyInsertObject_type").value=="url"){b=getObject(this.id+"propertyInsertObject_url").value.trim();if(b==""){alert(s_enterURL);return}c=(c=/\.(\w+)(?:$|\?)/.exec(b))&&c.length==2?c[1].toLowerCase():"";g="";if(c=="swf"||c=="")g='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,0,0" width="400" height="300"><param name="wmode" value="transparent"/><param name="movie" value="'+
b+'"/><!--[if !IE]> <--\><object type="application/x-shockwave-flash" transparent="yes" data="'+b+'" width="400" height="300"><p><a href="'+b+'">[Flash] '+b+"</a></p></object><!--\> <![endif]--\></object>";else{g=null;switch(c){case "mp3":g="audio/mpeg";break;case "mid":g="audio/x-ms-mid";break;case "wav":g="audio/x-ms-wav";break;case "wax":g="audio/x-ms-wax";break;case "wma":g="audio/x-ms-wma";break;case "avi":g="video/x-msvideo";break;case "asf":case "asx":g="video/x-ms-asf";break;case "mov":g=
"video/quicktime";break;case "mpg":case "mpeg":g="video/x-ms-mpeg";break;case "wmv":g="video/x-ms-wmv";break;case "wm":g="video/x-ms-wm";break;case "wvx":g="video/x-ms-wvx";break}if(g===null){alert(s_unknownFileType);return}else g=g=="video/quicktime"?'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B"codebase="http://www.apple.com/qtactivex/qtplugin.cab" width="320" height="260"><param name="src" value="'+b+'"/><param name="controller" value="true"/><param name="autoplay" value="false"/><!--[if !IE]>--\><object type="video/quicktime" data="'+
b+'" width="320" height="260"><param name="autoplay" value="false"/><param name="controller" value="true"/></object><!--<![endif]--\></object>':'<object classid="clsid:22D6F312-B0F6-11D0-94AB-0080C74C7E95"><param name="Filename" value="'+b+'"/><param name="AutoStart" value="false"/><!--[if !IE]> <--\><object type="'+g+'" data="'+b+'" width="320" height="'+(g=="audio/mpeg"?"20":"240")+'"><param name="AutoStart" value="0"/><embed pluginspage="http://www.microsoft.com/Windows/Downloads/Contents/Products/MediaPlayer/" src="'+
b+'" width="320" height="'+(g=="audio/mpeg"?"20":"240")+'" type="application/x-mplayer2" autostart="0"></embed></object><!--\> <![endif]--\></object>'}}else{g=getObject(this.id+"propertyInsertObject_chunk").value.trim();if(!/^<object(?:.|\s)*<\/object>$/i.test(g)){alert(s_enterObjectTag);return}lowercasedCode=g.toLowerCase();if(lowercasedCode.count("<object")==0||lowercasedCode.count("<object")!=lowercasedCode.count("</object>")){alert(s_enterCorrectObjectTag);return}}d?this.command("Raw",'<img class="tatterObject" src="'+
servicePath+adminSkin+'/image/spacer.gif"'+this.parseImageSize(g,"string","css")+' longDesc="'+this.objectSerialize(g)+'" />',""):insertTag(this.textarea,g,"");getObject(this.id+"propertyInsertObject").style.display="none";break;case "MoreLessBlock":if(d){this.command("Raw",'<div class="tattermoreless" more=" more.. " less=" less.. ">&nbsp;',"</div>");this.trimContent()}else insertTag(this.textarea,"[#M_ more.. | less.. | ","_M#]");break;case "Raw":c=typeof c=="undefined"?"":c;if(d)if(STD.isIE){this.contentWindow.focus();
d=this.getSelectionRange();if(d.pasteHTML)d.pasteHTML(b+d.htmlText+c);else if(this.selectedElement){this.selectedElement.insertAdjacentHTML("beforeBegin",b);this.selectedElement.insertAdjacentHTML("afterEnd",c)}}else{if((d=this.contentWindow.getSelection().focusNode)&&d.tagName=="HTML"){d=this.contentDocument.createRange();d.setStart(this.contentDocument.body,0);d.setEnd(this.contentDocument.body,0);a=document.createElement("div");g=d.extractContents()}else{d=this.getSelectionRange()||this.lastSelectionRange;
a=document.createElement("div");g=d?d.extractContents():null}g!=null&&a.appendChild(g);d.insertNode(d.createContextualFragment(b+a.innerHTML+c))}else insertTag(this.textarea,b,c)}this.changeButtonStatus(null,null);try{this.contentDocument.body.focus()}catch(m){}};
TTModernEditor.prototype.eventHandler=function(a){var b=a.altKey||a.ctrlKey||a.shiftKey;if(STD.isIE){a=this.contentWindow.event;a.target=a.srcElement}if(STD.isWebkit&&STD.engineVersion>=419.3){var c=this.getSelectionRange();if(c)this.lastSelectionRange=c}if(a.type=="mousedown"){this.selectedElement=a.target;this.activeButton(a.target)}else a.type!="mouseup"&&this.activeButton();if(this.selectedElement!=null){switch(a.type){case "mouseup":a=this.selectedElement.getAttribute("longdesc");if(/^1[CLR]/.exec(a)){c=
this.parseImageSize(this.selectedElement,"array");a=a.replace(/(width=["']?)\d*/i,"$1"+c[0]);a=a.replace(/(height=["']?)\d*/i,"$1"+parseInt(c[0]*this.propertyCurrentProportion1));this.selectedElement.setAttribute("longDesc",a)}break;case "keypress":c=this.getSelectionRange();if(a.keyCode==13)if(!this.newLineToParagraph)if(STD.isIE&&c.parentElement&&c.parentElement().tagName!="LI"){a.returnValue=false;a.cancelBubble=true;c.pasteHTML("<br />");c.collapse(false);c.select();return false}}editorChanged();
if(this.selectedElement&&!b)if(this.showProperty(this.selectedElement)&&STD.isWebkit&&STD.engineVersion>=419.3){c=this.contentDocument.createRange();c.selectNode(this.selectedElement);this.contentWindow.getSelection().removeAllRanges();this.contentWindow.getSelection().addRange(c)}}};
TTModernEditor.prototype.trimContent=function(){var a=this.contentDocument.body.innerHTML;a=a.replace(new RegExp("<p>\\s*(<br\\s/?)+","gi"),"<p>");a=a.replace(new RegExp("(<br\\s/?>)+\\s*</p>","gi"),"</p>");a=a.replace(new RegExp("<p></p>","gi"),"");a=a.replace(new RegExp("<li>\\s*<p>","gi"),"<li>");a=a.replace(new RegExp("</p>\\s*</li>","gi"),"</li>");this.contentDocument.body.innerHTML=a};
TTModernEditor.prototype.correctContent=function(){var a=false;try{if(this.editMode=="WYSIWYG")a=true}catch(b){}var c=a?this.contentDocument.body.innerHTML:this.textarea.value;c=c.replaceAll("<br>","<br />");if(STD.isWebkit){c=c.replaceAll('class="Apple-style-span"',"");c=c.replaceAll('class="webkit-block-placeholder"',"");c=c.replaceAll('br class="webkit-block-placeholder"',"br /");c=c.replaceAll("<div><br /></div>","<br />");c=this.newLineToParagraph?c.replace(new RegExp("<div>(.*?)</div>","gi"),
"<p>$1</p>"):c.replace(new RegExp("<div>(.*?)</div>","gi"),"<br />$1")}var d=new Array("font-weight: bold;","font-style: italic;","text-decoration: underline;","text-decoration: line-through;"),e=new Array("strong","em","ins","del");for(var f in d)for(var g=new RegExp('<span style="'+d[f]+'">((?:.|\\s)*?)</span>',"gi");result=g.exec(c);)c=c.replaceAll(result[0],"<"+e[f]+">"+result[1]+"</"+e[f]+">");c=c.replace(new RegExp("<b>(.*?)</b>","gi"),"<strong>$1</strong>");c=c.replace(new RegExp("<i([^>]*?)>(.*?)</i>",
"gi"),"<em$1>$2</em>");c=c.replace(new RegExp("<u([^>]*?)>(.*?)</u>","gi"),"<ins$1>$2</ins>");c=c.replace(new RegExp("<strike([^>]*?)>(.*?)</strike>","gi"),"<del$1>$2</del>");c=c.replace(new RegExp("<(img|br|hr)(\\s+[^>]*[^>/]|)>","gi"),"<$1$2 />");c=c.replace(new RegExp("(<(p|div|li|blockquote)(|\\s+[^>]+)>)\\s*(<br\\s*/?>)+","gi"),"$1");c=c.replace(new RegExp("(<br\\s*/?>)+\\s*(</(p|div|li|blockquote)(|\\s+[^>]+))","gi"),"$2");c=c.replace(new RegExp("<p>\\s*</p>","gi"),"");c=c.replace(new RegExp("<li>\\s*<p>",
"gi"),"<li>");c=c.replace(new RegExp("</p>\\s*</li>","gi"),"</li>");if(a)this.contentDocument.body.innerHTML=c;else this.textarea.value=c};
TTModernEditor.prototype.parseImageSize=function(a,b,c){var d=0,e=0;if(typeof a=="object")if(a.style.width&&a.style.height){d=parseInt(a.style.width);e=parseInt(a.style.height)}else{d=a.width;e=a.height}else{a=a.replace(new RegExp('longdesc=".*?"',"gi"),"");a=a.replace(new RegExp("longdesc='.*?'","gi"),"");var f=new RegExp("width:\\s*(\\d+)","gi"),g=new RegExp("height:\\s*(\\d+)","gi"),h=new RegExp("width=[\"']?(\\d+)","gi"),j=new RegExp("height=[\"']?(\\d+)","gi");if(f=f.exec(a))d=f[1];else if(f=
h.exec(a))d=f[1];if(g=g.exec(a))e=g[1];else if(g=j.exec(a))e=g[1]}if(b=="array")return new Array(d,e);else if(c=="css"){a=' style="';if(d>0)a+="width: "+d+"px;";if(e>0)a+="height: "+e+"px;";return a+'"'}else{a=" ";if(d>0)a+='width="'+d+'" ';if(e>0)a+='height="'+e+'" ';return a}};
TTModernEditor.prototype.activeButton=function(a){if(typeof a=="undefined")try{a=this.activeButton(this.getSelectionRange().parentElement())}catch(b){try{a=this.activeButton(this.getSelectionRange().commonAncestorContainer.parentNode)}catch(c){return}}this.isStrike=this.isUnderline=this.isItalic=this.isBold=false;for(this.fontSize=this.fontName=null;typeof a!="undefined"&&a.tagName&&a.tagName.toLowerCase()!="body";){switch(a.tagName.toLowerCase()){case "strong":case "b":this.isBold=true;break;case "em":case "i":this.isItalic=
true;break;case "u":case "ins":this.isUnderline=true;break;case "del":case "strike":this.isStrike=true;break;case "font":if(this.fontName==null&&a.face)this.fontName=a.face;if(this.fontSize==null&&a.size)this.fontSize=a.size;break;case "h1":case "h2":case "h3":case "h4":case "h5":case "h6":if(this.fontSize==null)this.fontSize=a.tagName.toLowerCase();break;default:if(a.style.fontWeight.toLowerCase()=="bold")this.isBold=true;if(a.style.fontStyle.toLowerCase()=="italic")this.isItalic=true;if(a.style.textDecoration.toLowerCase()==
"underline")this.isUnderline=true;if(a.style.textDecoration.toLowerCase()=="line-through")this.isStrike=true;if(this.fontName==null&&a.style.fontFamily)this.fontName=a.style.fontFamily}a=a.parentNode}if(this.fontName!=null){a=this.fontName.split(",");for(var d=null,e=0;e<a.length;++e){var f=a[e].replace(new RegExp("^[\\s\"']*|[\\s\"']*$","g"),"");if(typeof this.allFontMap[f]!="undefined"){d=this.allFontMap[f];break}}this.fontName=d}if(this.isBold)getObject(this.id+"indicatorBold").className=getObject(this.id+
"indicatorBold").className.replace("inactive-class","active-class");else if(!getObject(this.id+"indicatorBold").className.match("inactive"))getObject(this.id+"indicatorBold").className=getObject(this.id+"indicatorBold").className.replace("active-class","inactive-class");if(this.isItalic)getObject(this.id+"indicatorItalic").className=getObject(this.id+"indicatorItalic").className.replace("inactive-class","active-class");else if(!getObject(this.id+"indicatorItalic").className.match("inactive"))getObject(this.id+
"indicatorItalic").className=getObject(this.id+"indicatorItalic").className.replace("active-class","inactive-class");if(this.isUnderline)getObject(this.id+"indicatorUnderline").className=getObject(this.id+"indicatorUnderline").className.replace("inactive-class","active-class");else if(!getObject(this.id+"indicatorUnderline").className.match("inactive"))getObject(this.id+"indicatorUnderline").className=getObject(this.id+"indicatorUnderline").className.replace("active-class","inactive-class");if(this.isStrike)getObject(this.id+
"indicatorStrike").className=getObject(this.id+"indicatorStrike").className.replace("inactive-class","active-class");else if(!getObject(this.id+"indicatorStrike").className.match("inactive"))getObject(this.id+"indicatorStrike").className=getObject(this.id+"indicatorStrike").className.replace("active-class","inactive-class");if(this.fontName!=null)getObject(this.id+"fontFamilyChanger").value=this.fontName;else getObject(this.id+"fontFamilyChanger").value="";if(this.fontSize!=null)getObject(this.id+
"fontSizeChanger").value=this.fontSize;else getObject(this.id+"fontSizeChanger").value=""};TTModernEditor.prototype.getFilenameFromFilelist=function(a){for(var b=getObject("TCfilelist"),c=0;c<b.length;c++)if(b.options[c].value.indexOf(a)==0)return b.options[c].text.substring(0,b.options[c].text.lastIndexOf("(")-1);return a};
TTModernEditor.prototype.listChanged=function(a){if(a=="propertyGallery_list"){a=getObject(this.id+"propertyGallery_list");if(a.selectedIndex>-1){a=a[a.selectedIndex].value.split("|");getObject(this.id+"propertyGallery_preview").style.display="block";getObject(this.id+"propertyGallery_preview").innerHTML='<img src="'+this.propertyFilePath+a[0]+'" width="198" />';getObject(this.id+"propertyGallery_captionLine").style.display="block";getObject(this.id+"propertyGallery_caption").value=a[1]}}else if(a==
"propertyiMazing_list"){a=getObject(this.id+"propertyiMazing_list");if(a.selectedIndex>-1){a=a[a.selectedIndex].value.split("|");getObject(this.id+"propertyiMazing_preview").style.display="block";getObject(this.id+"propertyiMazing_preview").innerHTML='<img src="'+this.propertyFilePath+a[0]+'" width="198" />'}}else if(a=="propertyJukebox_list"){a=getObject(this.id+"propertyJukebox_list");if(a.selectedIndex>-1){a=a[a.selectedIndex].value.split("|");getObject(this.id+"propertyJukebox_title").value=a[1]}}};
TTModernEditor.prototype.moveUpFileList=function(a){var b=getObject(a);if(b&&b.selectedIndex>0){var c=b[b.selectedIndex-1].value,d=b[b.selectedIndex-1].text;b[b.selectedIndex-1].value=b[b.selectedIndex].value;b[b.selectedIndex-1].text=b[b.selectedIndex].text;b[b.selectedIndex].value=c;b[b.selectedIndex].text=d;b.selectedIndex--;this.setProperty();this.listChanged(a)}};
TTModernEditor.prototype.moveDownFileList=function(a){var b=getObject(a);if(b&&b.selectedIndex<b.length-1){var c=b[b.selectedIndex+1].value,d=b[b.selectedIndex+1].text;b[b.selectedIndex+1].value=b[b.selectedIndex].value;b[b.selectedIndex+1].text=b[b.selectedIndex].text;b[b.selectedIndex].value=c;b[b.selectedIndex].text=d;b.selectedIndex++;this.setProperty();this.listChanged(a)}};
TTModernEditor.prototype.toggleMode=function(){if(this.editMode=="WYSIWYG"){this.syncContents();this.iframe.style.display="none";this.textarea.style.display="block";this.editMode="TEXTAREA";this.correctContent();this.textarea.focus();this.resizer.target=this.textarea}else{this.iframe.style.display="block";this.textarea.style.display="none";this.syncContents();try{this.contentDocument.designMode="on"}catch(a){this.iframe.style.display="none";this.textarea.style.display="block";return}this.editMode=
"WYSIWYG";this.correctContent();try{this.contentDocument.body.focus()}catch(b){}this.resizer.target=this.iframe}};TTModernEditor.prototype.getSelectionRange=function(){STD.isWebkit&&this.contentWindow.focus();return STD.isIE?this.contentDocument.selection.createRange():this.contentWindow.getSelection().getRangeAt(0)};
TTModernEditor.prototype.objectSerialize=function(a){a=a.replace(new RegExp("<br\\s*/?>","gi"),"");a=a.replace(new RegExp("\r?\n","g"),"");a=a.replace(new RegExp("<","g"),"__LT__");a=a.replace(new RegExp(">","g"),"__GT__");return a=a.replace(new RegExp('"',"g"),"__QUOT__")};TTModernEditor.prototype.objectUnSerialize=function(a){a=a.replaceAll("__QUOT__",'"');a=a.replaceAll("__GT__",">");return a=a.replaceAll("__LT__","<")};
TTModernEditor.prototype.parseAttribute=function(a,b){var c=new RegExp("(^|\\W)"+b+'="([^"]*)"',"gi"),d=new RegExp("(^|\\W)"+b+"='([^']*)'","gi"),e=new RegExp("(^|\\W)"+b+"=([^\\s>]*)","gi");return(result=c.exec(a))?result[2]:(result=d.exec(a))?result[2]:(result=e.exec(a))?result[2]:""};TTModernEditor.prototype.execCommand=function(a,b,c){this.editMode=="WYSIWYG"&&this.contentDocument.execCommand(a,b,c)};
TTModernEditor.prototype.isImageFile=function(a){return(new RegExp("\\.(jpe?g|gif|png|bmp)$","gi")).exec(a)};TTModernEditor.prototype.isMediaFile=function(a){return(new RegExp("\\.(swf|mid|mp3|wav|wax|wma|avi|asf|asx|mov|mpe?g|wmv|wm|wvx)$","gi")).exec(a)};TTModernEditor.prototype.addQuot=function(a){return a.replace(new RegExp('"',"g"),"&quot;").replace(new RegExp("'","g"),"&#39;")};
TTModernEditor.prototype.removeQuot=function(a){return a.replace(new RegExp("&quot;","gi"),'"').replace(new RegExp("&#39;","g"),"'")};TTModernEditor.prototype.htmlspecialchars=function(a){return this.addQuot(a.replace(new RegExp("&","g"),"&amp;").replace(new RegExp("<","g"),"&lt;").replace(new RegExp(">","g"),"&gt;"))};
TTModernEditor.prototype.unHtmlspecialchars=function(a){return this.removeQuot(a.replace(new RegExp("&amp;","gi"),"&").replace(new RegExp("&lt;","gi"),"<").replace(new RegExp("&gt;","gi"),">"))};TTModernEditor.prototype.nl2br=function(a){return a.replace(new RegExp("\r\n","gi"),"<br />").replace(new RegExp("\r","gi"),"<br />").replace(new RegExp("\n","gi"),"<br />")};
TTModernEditor.prototype.removeFormatting=function(a){var b=new Array("b","strong","i","em","u","ins","strike","del","font","div");for(var c in b)for(var d=new RegExp("</?"+b[c]+"(?:>| [^>]*>)","i");result=d.exec(a);)a=a.replaceAll(result[0],"");a=a.replace(new RegExp('\\s*style="[^"]*"',"gi"),"");b=new Array("span","div");for(c in b)for(d=/<span\s*?>((?:.|\s)*?)<\/span>/i;result=d.exec(a);)a=a.replace(result[0],result[1]);return a};
TTModernEditor.prototype.setPropertyPosition=function(a){if(win=document.getElementById(this.propertyWindowId)){var b=document.getElementById(this.propertyWindowId+"-fix-position").checked;if(a){b?setUserSetting("editorPropertyPositionFix",1):setUserSetting("editorPropertyPositionFix",0);for(var c in this.propertyNames)document.getElementById(this.id+this.propertyNames[c]+"-fix-position").checked=b}if(b)win.style.top="9px";else{if(this.propertyOffsetTop===null)this.propertyOffsetTop=getOffsetTop(win);
if(this.scrollTop===null)this.scrollTop=STD.getScrollTop();scrollHeight=STD.getScrollTop()-this.scrollTop;win.style.top=STD.getScrollTop()>this.propertyOffsetTop-15?win.offsetHeight>getWindowCleintHeight()?Math.max(9,Math.min(3E3,STD.getScrollTop()+getWindowCleintHeight()-this.propertyOffsetTop-win.offsetHeight))+"px":Math.min(3E3,24+STD.getScrollTop()-this.propertyOffsetTop)+"px":"9px";this.scrollTop=STD.getScrollTop()}}};
var s_enterURL=_t("URL\uc744 \uc785\ub825\ud558\uc138\uc694."),s_unknownFileType=_t("\uc54c \uc218 \uc5c6\ub294 \ud615\uc2dd\uc758 \ud30c\uc77c\uba85\uc785\ub2c8\ub2e4."),s_enterObjectTag=_t("OBJECT \ud0dc\uadf8\ub9cc \uc785\ub825\ud558\uc138\uc694."),s_enterCorrectObjectTag=_t("\uc798\ubabb\ub41c OBJECT \ud0dc\uadf8\uc785\ub2c8\ub2e4."),s_selectBoxArea=_t("\ubc15\uc2a4\ub85c \ub458\ub7ec\uc300 \uc601\uc5ed\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694"),s_selectLinkArea=_t("\ub9c1\ud06c\ub97c \ub9cc\ub4e4 \uc601\uc5ed\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694");
TTModernEditor.prototype.insertColorTag=function(a){hideLayer(this.id+"colorPalette");this.command("Color",a)};TTModernEditor.prototype.insertMarkTag=function(a){hideLayer(this.id+"markPalette");this.command("Mark",a)};
TTModernEditor.prototype.addObject=function(a){var b=a.objects;switch(a.mode){case "Image1L":case "Image1C":case "Image1R":if(this.isMediaFile(b[0][0])){getObject(this.id+"propertyInsertObject_type").value="url";getObject(this.id+"propertyInsertObject_url").value=blogURL+"/attachment/"+b[0][0];this.command("InsertObject");return true}case "Image2C":case "Image3C":try{if(this.editMode=="WYSIWYG"){var c=servicePath+adminSkin+"/image/spacer.gif",d="",e;if(a.mode=="Image1L"||a.mode=="Image1C"||a.mode==
"Image1R"){if(/.(jpe?g|gif|png|bmp)$/i.test(b[0][0]))c=this.propertyFilePath+b[0][0];else b[0][1]=this.styleUnknown;d=b[0][1];e=a.mode.substr(5)+"|"+b[0][0]+"|"+b[0][1]+"|"+b[0][2].replaceAll("|","")}else{d='width="'+parseInt(a.mode.substr(5))*100+'" height="100"';e=a.mode.substr(5);for(var f=0;b[f];++f)e+="|"+b[f][0]+"|"+b[f][1]+"|"+b[f][2]}var g={Image1L:"tatterImageLeft",Image1C:"tatterImageCenter",Image1R:"tatterImageRight",Image2C:"tatterImageDual",Image3C:"tatterImageTriple"}[a.mode],h='<img class="'+
g+'" src="'+c+'" '+d+' longdesc="'+this.addQuot(e)+'" />';this.command("Raw",h);return true}}catch(j){}h=a.mode.substr(5);for(f=0;b[f];++f)h+="|"+b[f][0]+"|"+b[f][1]+"|"+b[f][2];insertTag(this.textarea,"[##_"+h+"_##]","");return true;case "ImageFree":h="";a=false;try{a=this.editMode=="WYSIWYG"}catch(k){}for(f=0;b[f];++f)h+=a?'<img class="tatterImageFree" src="'+this.propertyFilePath+b[f][0]+'" longdesc="[##_ATTACH_PATH_##]/'+b[f][0]+'" '+b[f][1]+" />":'<img src="[##_ATTACH_PATH_##]/'+b[f][0]+'" '+
b[f][1]+" />";this.command("Raw",h);return true;case "Imazing":case "Gallery":case "Jukebox":h=a.mode=="Imazing"?"iMazing":a.mode;for(f=0;b[f];++f)h+="|"+b[f][0]+"|"+b[f][1];switch(a.mode){case "Imazing":h+="|"+a.properties+"|";break;case "Gallery":h+='|width="400" height="300"';break;case "Jukebox":h+="|autoplay=0 visible=1|";break}try{if(this.editMode=="WYSIWYG"){g="tatter"+a.mode;this.command("Raw",'<img class="'+g+'" src="'+servicePath+adminSkin+'/image/spacer.gif" '+(a.mode=="Jukebox"?'width="200" height="30"':
'width="400" height="300"')+' longdesc="'+h+'" />');return true}}catch(l){}insertTag(this.textarea,"[##_"+h+"_##]","");return true}return false};
TTModernEditor.prototype.getEditorPalette=function(a){var b=["008000","009966","99CC66","999966","CC9900","D41A01","FF0000","FF7635","FF9900","FF3399","9B18C1","993366","666699","0000FF","177FCD","006699","003366","333333","000000","8E8E8E","C1C1C1","FFFFFF","FFDAED","C9EDFF","D0FF9D","FAFFA9","E4E4E4"],c=["FFDAED","C9EDFF","D0FF9D","FAFFA9","E4E4E4"],d='<dl class="font-relatives"><dt class="title"><span class="label">'+_t("\ud3f0\ud2b8 \uc124\uc815")+'</span></dt><dd class="command-box"><select id="__ID__fontFamilyChanger" class="moderneditor-fontFamilyChanger" onchange="__EDITOR__.execCommand(\'fontname\', false, this.value); this.selectedIndex=0;"><option class="head-option" value="">'+
_t("\uae00\uc790\uccb4")+"</option>";_t("fontDisplayName:fontCode:fontFamily").split("|");for(var e=0;e<this.allFontList.length;++e){var f=this.allFontList[e];d+='<option style="font-family: '+f[1]+';" value="'+f[1]+'">'+f[0]+"</option>"}d+='</select><select id="__ID__fontSizeChanger" class="moderneditor-fontSizeChanger" onchange="__EDITOR__.command(\'FontSize\', this.value); this.selectedIndex=0;"><option class="head-option" value="">'+_t("\uc18d\uc131")+'</option><optgroup class="size" label="'+
_t("\ud06c\uae30")+'"><option value="1">1 (8 pt)</option><option value="2">2 (10 pt)</option><option value="3">3 (12 pt)</option><option value="4">4 (14 pt)</option><option value="5">5 (18 pt)</option><option value="6">6 (24 pt)</option><option value="7">7 (36 pt)</option></optgroup><optgroup class="header" label="'+_t("\uc81c\ubaa9")+'"><option value="h3">h3</option><option value="h4">h4</option><option value="h5">h5</option><option value="h6">h6</option></optgroup></select></dd></dl><dl class="font-style"><dt class="title"><span class="label">'+
_t("\ud3f0\ud2b8 \uc2a4\ud0c0\uc77c")+'</span></dt><dd class="command-box"><a id="__ID__indicatorBold" class="inactive-class button moderneditor-indicatorBold" href="#void" onclick="__EDITOR__.command(\'Bold\'); return false" title="'+_t("\uad75\uac8c")+'"><span class="text">'+_t("\uad75\uac8c")+'</span></a><a id="__ID__indicatorItalic" class="inactive-class button moderneditor-indicatorItalic" href="#void" onclick="__EDITOR__.command(\'Italic\'); return false" title="'+_t("\uae30\uc6b8\uc784")+'"><span class="text">'+
_t("\uae30\uc6b8\uc784")+'</span></a><a id="__ID__indicatorUnderline" class="inactive-class button moderneditor-indicatorUnderline" href="#void" onclick="__EDITOR__.command(\'Underline\'); return false" title="'+_t("\ubc11\uc904")+'"><span class="text">'+_t("\ubc11\uc904")+'</span></a><a id="__ID__indicatorStrike" class="inactive-class button moderneditor-indicatorStrike" href="#void" onclick="__EDITOR__.command(\'StrikeThrough\'); return false" title="'+_t("\ucde8\uc18c\uc120")+'"><span class="text">'+
_t("\ucde8\uc18c\uc120")+'</span></a><a id="__ID__indicatorColorPalette" class="inactive-class button moderneditor-indicatorColorPalette" href="#void" onclick="hideLayer(\'__ID__markPalette\'); hideLayer(\'__ID__textBox\'); toggleLayer(\'__ID__colorPalette\'); __EDITOR__.changeButtonStatus(this, \'colorPalette\'); return false" title="'+_t("\uae00\uc790\uc0c9")+'"><span class="text">'+_t("\uae00\uc790\uc0c9")+'</span></a><div id="__ID__colorPalette" class="moderneditor-colorPalette" style="display: none;"><table cellspacing="0" cellpadding="0"><tr>';
for(e=0;e<b.length;++e)d+='<td><a href="#void" onclick="__EDITOR__.insertColorTag(\'#'+b[e]+'\'); return false"><span class="color-'+b[e]+'">#'+b[e]+"</span></a></td>";d+='</tr></table></div><a id="__ID__indicatorMarkPalette" class="inactive-class button moderneditor-indicatorMarkPalette" href="#void" onclick="hideLayer(\'__ID__colorPalette\');hideLayer(\'__ID__textBox\');toggleLayer(\'__ID__markPalette\'); __EDITOR__.changeButtonStatus(this, \'markPalette\'); return false" title="'+_t("\ubc30\uacbd\uc0c9")+
'"><span class="text">'+_t("\ubc30\uacbd\uc0c9")+'</span></a><div id="__ID__markPalette" class="moderneditor-markPalette" style="display: none;"><table cellspacing="0" cellpadding="0"><tr>';for(e=0;e<b.length;++e)d+='<td><a href="#void" onclick="__EDITOR__.insertMarkTag(\'#'+b[e]+'\'); return false"><span class="color-'+b[e]+'">#'+b[e]+"</span></a></td>";d+='</tr></table></div><a id="__ID__indicatorTextBox" class="inactive-class button moderneditor-indicatorTextBox" href="#void" onclick="hideLayer(\'__ID__markPalette\');hideLayer(\'__ID__colorPalette\');toggleLayer(\'__ID__textBox\'); __EDITOR__.changeButtonStatus(this, \'textBox\'); return false" title="'+
_t("\ud14d\uc2a4\ud2b8 \uc0c1\uc790")+'"><span class="text">'+_t("\ud14d\uc2a4\ud2b8 \uc0c1\uc790")+'</span></a><div id="__ID__textBox" class="moderneditor-textBox" style="display: none;"><table cellspacing="0" cellpadding="0"><tr>';for(e=0;e<c.length;++e)d+="<td><a href=\"#void\" onclick=\"hideLayer('__ID__textBox'); __EDITOR__.command('Box', 'padding:10px; background-color:#"+c[e]+'\'); return false"><span class="color-'+c[e]+'">#'+c[e]+"</span></a></td>";d+='</tr></table></div><a id="__ID__indicatorRemoveFormat" class="inactive-class button moderneditor-indicatorRemoveFormat" href="#void" onclick="__EDITOR__.command(\'RemoveFormat\'); return false;" title="'+
_t("\ud6a8\uacfc \uc81c\uac70")+'"><span class="text">'+_t("\ud6a8\uacfc \uc81c\uac70")+'</span></a></dd></dl><dl class="paragraph"><dt class="title"><span class="label">'+_t("\ubb38\ub2e8")+'</span></dt><dd class="command-box"><a id="__ID__indicatorJustifyLeft" class="inactive-class button moderneditor-indicatorJustifyLeft" href="#void" onclick="__EDITOR__.command(\'JustifyLeft\'); return false" title="'+_t("\uc67c\ucabd \uc815\ub82c")+'"><span class="text">'+_t("\uc67c\ucabd \uc815\ub82c")+'</span></a><a id="__ID__indicatorJustifyCenter" class="inactive-class button moderneditor-indicatorJustifyCenter" href="#void" onclick="__EDITOR__.command(\'JustifyCenter\'); return false" title="'+
_t("\uac00\uc6b4\ub370 \uc815\ub82c")+'"><span class="text">'+_t("\uac00\uc6b4\ub370 \uc815\ub82c")+'</span></a><a id="__ID__indicatorJustifyRight" class="inactive-class button moderneditor-indicatorJustifyRight" href="#void" onclick="__EDITOR__.command(\'JustifyRight\'); return false" title="'+_t("\uc624\ub978\ucabd \uc815\ub82c")+'"><span class="text">'+_t("\uc624\ub978\ucabd \uc815\ub82c")+'</span></a><a id="__ID__indicatorUnorderedList" class="inactive-class button moderneditor-indicatorUnorderedList" href="#void" onclick="__EDITOR__.command(\'InsertUnorderedList\'); return false" title="'+
_t("\uc21c\uc11c\uc5c6\ub294 \ub9ac\uc2a4\ud2b8")+'"><span class="text">'+_t("\uc21c\uc11c\uc5c6\ub294 \ub9ac\uc2a4\ud2b8")+'</span></a><a id="__ID__indicatorOrderedList" class="inactive-class button moderneditor-indicatorOrderedList" href="#void" onclick="__EDITOR__.command(\'InsertOrderedList\'); return false" title="'+_t("\ubc88\ud638 \ub9e4\uae34 \ub9ac\uc2a4\ud2b8")+'"><span class="text">'+_t("\ubc88\ud638 \ub9e4\uae34 \ub9ac\uc2a4\ud2b8")+'</span></a><a id="__ID__indicatorOutdent" class="inactive-class button moderneditor-indicatorOutdent" href="#void" onclick="__EDITOR__.command(\'Outdent\'); return false" title="'+
_t("\ub0b4\uc5b4\uc4f0\uae30")+'"><span class="text">'+_t("\ub0b4\uc5b4\uc4f0\uae30")+'</span></a><a id="__ID__indicatorIndent" class="inactive-class button moderneditor-indicatorIndent" href="#void" onclick="__EDITOR__.command(\'Indent\'); return false" title="'+_t("\ub4e4\uc5ec\uc4f0\uae30")+'"><span class="text">'+_t("\ub4e4\uc5ec\uc4f0\uae30")+'</span></a><a id="__ID__indicatorBlockquote" class="inactive-class button moderneditor-indicatorBlockquote" href="#void" onclick="__EDITOR__.command(\'Blockquote\'); return false" title="'+
_t("\uc778\uc6a9\uad6c")+'"><span class="text">'+_t("\uc778\uc6a9\uad6c")+'</span></a></dd></dl><dl class="special"><dt class="title"><span class="label">'+_t("\uae30\ud0c0")+'</span></dt><dd class="command-box"><a id="__ID__indicatorCreateLink" class="inactive-class button moderneditor-indicatorCreateLink" href="#void" onclick="__EDITOR__.command(\'CreateLink\'); return false" title="'+_t("\ud558\uc774\ud37c\ub9c1\ud06c")+'"><span class="text">'+_t("\ud558\uc774\ud37c\ub9c1\ud06c")+'</span></a><a id="__ID__indicatorMediaBlock" class="inactive-class button moderneditor-indicatorMediaBlock" href="#void" onclick="__EDITOR__.command(\'ObjectBlock\'); return false" title="'+
_t("\ubbf8\ub514\uc5b4 \uc0bd\uc785")+'"><span class="text">'+_t("\ubbf8\ub514\uc5b4 \uc0bd\uc785")+'</span></a><a id="__ID__indicatorMoreLessBlock" class="inactive-class button moderneditor-indicatorMoreLessBlock" href="#void" onclick="__EDITOR__.command(\'MoreLessBlock\'); return false" title="'+_t("More/Less")+'"><span class="text">'+_t("More/Less")+"</span></a></dd></dl>";if(this.restrictEditorMode!=true)d+='<dl class="mode"><dt class="title"><span class="label">'+_t("\ud3b8\uc9d1 \ud658\uacbd")+
'</span></dt><dd class="command-box"><a id="__ID__indicatorMode" class="inactive-class button moderneditor-indicatorMode" href="#void" onclick="__EDITOR__.command(\'ToggleMode\'); __EDITOR__.changeEditorMode(); return false" title="'+_t("\ud074\ub9ad\ud558\uc2dc\uba74 HTML \ud3b8\uc9d1\uae30\ub85c \ubcc0\uacbd\ud569\ub2c8\ub2e4.")+'"><span class="text">'+_t("WYSIWYG \ud3b8\uc9d1\uae30")+"</span></a></dd></dl>";d=d.replace(new RegExp("__EDITOR__","g"),"TTModernEditor.editors."+this.name);d=d.replace(new RegExp("__ID__",
"g"),this.id);if(a==true)return'<div id="moderneditor-palette">'+d+"</div>";a=document.createElement("div");a.id="moderneditor-palette";a.className="container";a.innerHTML=d;return a};
TTModernEditor.prototype.getEditorProperty=function(){var a=this.fixPosition,b='<div id="__ID__propertyHyperLink" class="entry-editor-property" style="display: none;"><div class="entry-editor-property-option"><input type="checkbox" class="checkbox" id="__ID__propertyHyperLink-fix-position" onclick="__EDITOR__.setPropertyPosition(1); return true;"'+(a?' checked="checked"':"")+'/><label for="__ID__propertyHyperLink-fix-position">'+_t("\uc704\uce58 \uace0\uc815")+"</label></div><h4>"+_t("\ud558\uc774\ud37c\ub9c1\ud06c")+
'</h4><div class="group"><dl class="line"><dt class="property-name"><label for="__ID__propertyInsertObject_url">'+_t("URL")+'</label></dt><dd><input type="text" id="__ID__propertyHyperLink_url" class="input-text" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyInsertObject_type">'+_t("\ub300\uc0c1")+'</label></dt><dd><select id="__ID__propertyHyperLink_target" style="width: 105px" ><option value="_blank">'+
_t("\uc0c8\ucc3d")+'</option><option value="_self">'+_t("\ud604\uc7ac\ucc3d")+'</option><option value="">'+_t("\uc0ac\uc6a9 \uc548\ud568")+'</option></select></dd></dl></div><div class="button-box"><span class="insert-button button" onclick="__EDITOR__.command(\'ExcuteCreateLink\'); return false"><span class="text">'+_t("\uc801\uc6a9\ud558\uae30")+'</span></span><span class="divider"> | </span><span class="cancel-button button" onclick="__EDITOR__.command(\'CancelCreateLink\'); return false"><span class="text">'+
_t("\ucde8\uc18c\ud558\uae30")+"</span></span></div></div>";b+='<div id="__ID__propertyInsertObject" class="entry-editor-property" style="display: none;"><div class="entry-editor-property-option"><input type="checkbox" class="checkbox" id="__ID__propertyInsertObject-fix-position" onclick="__EDITOR__.setPropertyPosition(1); return true;"'+(a?' checked="checked"':"")+'/><label for="__ID__propertyInsertObject-fix-position">'+_t("\uc704\uce58 \uace0\uc815")+"</label></div><h4>"+_t("\uc624\ube0c\uc81d\ud2b8 \uc0bd\uc785")+
'</h4><div class="group"><dl class="line"><dt class="property-name"><label for="__ID__propertyInsertObject_type">'+_t("\uc720\ud615")+"</label></dt><dd><select id=\"__ID__propertyInsertObject_type\" style=\"width: 105px\" onchange=\"getObject('__ID__propertyInsertObject_part_url').style.display=getObject('__ID__propertyInsertObject_part_raw').style.display='none';getObject('__ID__propertyInsertObject_part_' + this.value).style.display = 'block'\"><option value=\"url\">"+_t("\uc8fc\uc18c\uc785\ub825")+
'</option><option value="raw">'+_t("\ucf54\ub4dc \ubd99\uc5ec\ub123\uae30")+'</option></select></dd></dl><dl id="__ID__propertyInsertObject_part_url" class="line"><dt class="property-name"><label for="__ID__propertyInsertObject_url">'+_t("\ud30c\uc77c \uc8fc\uc18c")+'</label></dt><dd><input type="text" id="__ID__propertyInsertObject_url" class="input-text" onkeypress="return preventEnter(event);" /></dd></dl><dl id="__ID__propertyInsertObject_part_raw" class="line" style="display: none"><dt class="property-name"><label for="__ID__propertyInsertObject_chunk">'+
_t("\ucf54\ub4dc")+'</label></dt><dd><textarea id="__ID__propertyInsertObject_chunk" cols="30" rows="10"></textarea></dd></dl></div><div class="button-box"><span class="insert-button button" onclick="__EDITOR__.command(\'InsertObject\'); return false"><span class="text">'+_t("\uc0bd\uc785\ud558\uae30")+'</span></span><span class="divider"> | </span><span class="cancel-button button" onclick="__EDITOR__.command(\'HideObjectBlock\'); return false"><span class="text">'+_t("\ucde8\uc18c\ud558\uae30")+
"</span></span></div></div>";b+='<div id="__ID__propertyImage1" class="entry-editor-property" style="display: none;"><div class="entry-editor-property-option"><input type="checkbox" class="checkbox" id="__ID__propertyImage1-fix-position" onclick="__EDITOR__.setPropertyPosition(1); return true;"'+(a?' checked="checked"':"")+'/><label for="__ID__propertyImage1-fix-position">'+_t("\uc704\uce58 \uace0\uc815")+"</label></div><h4>"+_t("Image")+'</h4><div class="group"><dl class="line"><dt class="property-name"><label for="__ID__propertyImage1_width1">'+
_t("\ud3ed")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyImage1_width1" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyImage1_alt1">'+_t("\ub300\uccb4 \ud14d\uc2a4\ud2b8")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyImage1_alt1" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyImage1_caption1">'+
_t("\uc790\ub9c9")+'</label></dt><dd><textarea class="input-text" id="__ID__propertyImage1_caption1" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);"></textarea></dd></dl></div></div>';b+='<div id="__ID__propertyImage2" class="entry-editor-property" style="display: none;"><div class="entry-editor-property-option"><input type="checkbox" class="checkbox" id="__ID__propertyImage2-fix-position" onclick="__EDITOR__.setPropertyPosition(1); return true;"'+(a?' checked="checked"':
"")+'/><label for="__ID__propertyImage2-fix-position">'+_t("\uc704\uce58 \uace0\uc815")+"</label></div><h4>"+_t("Image")+'</h4><div class="group"><div class="title">'+_t("\uccab\ubc88\uc9f8 \uc774\ubbf8\uc9c0")+'</div><dl class="line"><dt class="property-name"><label for="__ID__propertyImage2_width1">'+_t("\ud3ed")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyImage2_width1" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyImage2_alt1">'+
_t("\ub300\uccb4 \ud14d\uc2a4\ud2b8")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyImage2_alt1" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyImage2_caption1">'+_t("\uc790\ub9c9")+'</label></dt><dd><textarea class="input-text" id="__ID__propertyImage2_caption1" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);"></textarea></dd></dl></div><div class="group"><div class="title">'+
_t("\ub450\ubc88\uc9f8 \uc774\ubbf8\uc9c0")+'</div><dl class="line"><dt class="property-name"><label for="__ID__propertyImage2_width2">'+_t("\ud3ed")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyImage2_width2" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyImage2_alt2">'+_t("\ub300\uccb4 \ud14d\uc2a4\ud2b8")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyImage2_alt2" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyImage2_caption2">'+
_t("\uc790\ub9c9")+'</label></dt><dd><textarea class="input-text" id="__ID__propertyImage2_caption2" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);"></textarea></dd></dl></div></div>';b+='<div id="__ID__propertyImage3" class="entry-editor-property" style="display: none;"><div class="entry-editor-property-option"><input type="checkbox" class="checkbox" id="__ID__propertyImage3-fix-position" onclick="__EDITOR__.setPropertyPosition(1); return true;"'+(a?' checked="checked"':
"")+'/><label for="__ID__propertyImage3-fix-position">'+_t("\uc704\uce58 \uace0\uc815")+"</label></div><h4>"+_t("Image")+'</h4><div class="group"><div class="title">'+_t("\uccab\ubc88\uc9f8 \uc774\ubbf8\uc9c0")+'</div><dl class="line"><dt class="property-name"><label for="__ID__propertyImage3_width1">'+_t("\ud3ed")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyImage3_width1" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyImage3_alt1">'+
_t("\ub300\uccb4 \ud14d\uc2a4\ud2b8")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyImage3_alt1" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyImage3_caption1">'+_t("\uc790\ub9c9")+'</label></dt><dd><textarea class="input-text" id="__ID__propertyImage3_caption1" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);"></textarea></dd></dl></div><div class="group"><div class="title">'+
_t("\ub450\ubc88\uc9f8 \uc774\ubbf8\uc9c0")+'</div><dl class="line"><dt class="property-name"><label for="__ID__propertyImage3_width2">'+_t("\ud3ed")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyImage3_width2" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyImage3_alt2">'+_t("\ub300\uccb4 \ud14d\uc2a4\ud2b8")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyImage3_alt2" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyImage3_caption2">'+
_t("\uc790\ub9c9")+'</label></dt><dd><textarea class="input-text" id="__ID__propertyImage3_caption2" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);"></textarea></dd></dl></div><div class="group"><div class="title">'+_t("\uc138\ubc88\uc9f8 \uc774\ubbf8\uc9c0")+'</div><dl class="line"><dt class="property-name"><label for="__ID__propertyImage3_width3">'+_t("\ud3ed")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyImage3_width3" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyImage3_alt3">'+
_t("\ub300\uccb4 \ud14d\uc2a4\ud2b8")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyImage3_alt3" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyImage3_caption3">'+_t("\uc790\ub9c9")+'</label></dt><dd><textarea class="input-text" id="__ID__propertyImage3_caption3" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);"></textarea></dd></dl></div></div>';
b+='<div id="__ID__propertyObject" class="entry-editor-property" style="display: none;"><div class="entry-editor-property-option"><input type="checkbox" class="checkbox" id="__ID__propertyObject-fix-position" onclick="__EDITOR__.setPropertyPosition(1); return true;"'+(a?' checked="checked"':"")+'/><label for="__ID__propertyObject-fix-position">'+_t("\uc704\uce58 \uace0\uc815")+"</label></div><h4>"+_t("Object")+'</h4><div class="group"><dl class="line"><dt class="property-name"><label for="__ID__propertyObject_width">'+
_t("\ud3ed")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyObject_width" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyObject_height">'+_t("\ub192\uc774")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyObject_height" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyObject_chunk">'+
_t("\ucf54\ub4dc")+'</label></dt><dd><textarea id="__ID__propertyObject_chunk" class="propertyObject_chunk" cols="30" rows="10" onkeyup="__EDITOR__.setProperty()"></textarea></dd></dl></div></div>';b+='<div id="__ID__propertyObject1" class="entry-editor-property" style="display: none;"><div class="entry-editor-property-option"><input type="checkbox" class="checkbox" id="__ID__propertyObject1-fix-position" onclick="__EDITOR__.setPropertyPosition(1); return true;"'+(a?' checked="checked"':"")+'/><label for="__ID__propertyObject1-fix-position">'+
_t("\uc704\uce58 \uace0\uc815")+"</label></div><h4>"+_t("Object 1")+'</h4><div class="group"><dl class="line"><dt class="property-name"><label for="__ID__propertyObject1_caption1">'+_t("\uc790\ub9c9")+'</label></dt><dd><textarea class="input-text" id="__ID__propertyObject1_caption1" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);"></textarea></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyObject1_filename1">'+_t("\ud30c\uc77c\uba85(\uc218\uc815\ubd88\uac00)")+
'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyObject1_filename1" readonly="readonly" /></dd></dl></div></div>';b+='<div id="__ID__propertyObject2" class="entry-editor-property" style="display: none;"><div class="entry-editor-property-option"><input type="checkbox" class="checkbox" id="__ID__propertyObject2-fix-position" onclick="__EDITOR__.setPropertyPosition(1); return true;"'+(a?' checked="checked"':"")+'/><label for="__ID__propertyObject2-fix-position">'+_t("\uc704\uce58 \uace0\uc815")+
"</label></div><h4>"+_t("Object")+'</h4><div class="group"><div class="title">'+_t("\uccab\ubc88\uc9f8 \uc624\ube0c\uc81d\ud2b8")+'</div><dl class="line"><dt class="property-name"><label for="__ID__propertyObject2_caption1">'+_t("\uc790\ub9c9")+'</label></dt><dd><textarea class="input-text" id="__ID__propertyObject2_caption1" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);"></textarea></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyObject2_filename1">'+
_t("\ud30c\uc77c\uba85")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyObject2_filename1" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl></div><div class="group"><div class="title">'+_t("\ub450\ubc88\uc9f8 \uc624\ube0c\uc81d\ud2b8")+'</div><dl class="line"><dt class="property-name"><label for="__ID__propertyObject2_caption2">'+_t("\uc790\ub9c9")+'</label></dt><dd><textarea class="input-text" id="__ID__propertyObject2_caption2" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);"></textarea></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyObject2_filename2">'+
_t("\ud30c\uc77c\uba85")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyObject2_filename2" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl></div></div>';b+='<div id="__ID__propertyObject3" class="entry-editor-property" style="display: none;"><div class="entry-editor-property-option"><input type="checkbox" class="checkbox" id="__ID__propertyObject3-fix-position" onclick="__EDITOR__.setPropertyPosition(1); return true;"'+(a?' checked="checked"':
"")+'/><label for="__ID__propertyObject3-fix-position">'+_t("\uc704\uce58 \uace0\uc815")+"</label></div><h4>"+_t("Object")+'</h4><div class="group"><div class="title">'+_t("\uccab\ubc88\uc9f8 \uc624\ube0c\uc81d\ud2b8")+'</div><dl class="line"><dt class="property-name"><label for="__ID__propertyObject3_caption1">'+_t("\uc790\ub9c9")+'</label></dt><dd><textarea class="input-text" id="__ID__propertyObject3_caption1" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);"></textarea></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyObject3_filename1">'+
_t("\ud30c\uc77c\uba85")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyObject3_filename1" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl></div><div class="group"><div class="title">'+_t("\ub450\ubc88\uc9f8 \uc624\ube0c\uc81d\ud2b8")+'</div><dl class="line"><dt class="property-name"><label for="__ID__propertyObject3_caption2">'+_t("\uc790\ub9c9")+'</label></dt><dd><textarea class="input-text" id="__ID__propertyObject3_caption2" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);"></textarea></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyObject3_filename2">'+
_t("\ud30c\uc77c\uba85")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyObject3_filename2" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl></div><div class="group"><div class="title">'+_t("\uc138\ubc88\uc9f8 \uc624\ube0c\uc81d\ud2b8")+'</div><dl class="line"><dt class="property-name"><label for="__ID__propertyObject3_caption3">'+_t("\uc790\ub9c9")+'</label></dt><dd><textarea class="input-text" id="__ID__propertyObject3_caption3" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);"></textarea></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyObject3_filename3">'+
_t("\ud30c\uc77c\uba85")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyObject3_filename3" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl></div></div>';b+='<div id="__ID__propertyiMazing" class="entry-editor-property" style="display: none;"><div class="entry-editor-property-option"><input type="checkbox" class="checkbox" id="__ID__propertyiMazing-fix-position" onclick="__EDITOR__.setPropertyPosition(1); return true;"'+(a?' checked="checked"':
"")+'/><label for="__ID__propertyiMazing-fix-position">'+_t("\uc704\uce58 \uace0\uc815")+"</label></div><h4>"+_t("iMazing")+'</h4><div class="group"><div class="title">'+_t("\uc124\uc815")+'</div><dl class="line"><dt class="property-name"><label for="__ID__propertyiMazing_width">'+_t("\ud3ed")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyiMazing_width" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyiMazing_height">'+
_t("\ub192\uc774")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyiMazing_height" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyiMazing_frame">'+_t("\ud14c\ub450\ub9ac")+'</label></dt><dd><select id="__ID__propertyiMazing_frame" onchange="__EDITOR__.setProperty()"><option value="net_imazing_frame_none">'+_t("\ud14c\ub450\ub9ac \uc5c6\uc74c")+'</option></select></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyiMazing_tran">'+
_t("\uc7a5\uba74\uc804\ud658\ud6a8\uacfc")+'</label></dt><dd><select id="__ID__propertyiMazing_tran" onchange="__EDITOR__.setProperty()"><option value="net_imazing_show_window_transition_none">'+_t("\ud6a8\uacfc\uc5c6\uc74c")+'</option><option value="net_imazing_show_window_transition_alpha">'+_t("\ud22c\uba85\uc804\ud658")+'</option><option value="net_imazing_show_window_transition_contrast">'+_t("\ud50c\ub798\uc26c")+'</option><option value="net_imazing_show_window_transition_sliding">'+_t("\uc2ac\ub77c\uc774\ub529")+
'</option></select></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyiMazing_nav">'+_t("\ub0b4\ube44\uac8c\uc774\uc158")+'</label></dt><dd><select id="__ID__propertyiMazing_nav" onchange="__EDITOR__.setProperty()"><option value="net_imazing_show_window_navigation_none">'+_t("\uae30\ubcf8")+'</option><option value="net_imazing_show_window_navigation_simple">'+_t("\uc2ec\ud50c")+'</option><option value="net_imazing_show_window_navigation_sidebar">'+_t("\uc0ac\uc774\ub4dc\ubc14")+
'</option></select></dd></dl><dl class="line"><dt class="property-name">'+_t("\uc2ac\ub77c\uc774\ub4dc\uc1fc \uac04\uaca9")+'</dt><dd><input type="text" class="input-text" id="__ID__propertyiMazing_sshow" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl class="line"><dt class="property-name">'+_t("\ud654\uba74\ub2f9 \uc774\ubbf8\uc9c0 \uc218")+'</dt><dd><input type="text" class="input-text" id="__ID__propertyiMazing_page" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyiMazing_align">'+
_t("\uc815\ub82c\ubc29\ubc95")+'</label></dt><dd><select id="__ID__propertyiMazing_align" onchange="__EDITOR__.setProperty()"><option value="h">'+_t("\uac00\ub85c")+'</option><option value="v">'+_t("\uc138\ub85c")+'</option></select></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyiMazing_caption">'+_t("\uc790\ub9c9")+'</label></dt><dd><textarea class="input-text" id="__ID__propertyiMazing_caption" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);"></textarea></dd></dl></div><div class="group"><div class="title">'+
_t("\ud30c\uc77c")+'</div><dl class="file-list-line line"><dd><select id="__ID__propertyiMazing_list" class="file-list" size="10" onchange="__EDITOR__.listChanged(\'propertyiMazing_list\')" onclick="__EDITOR__.listChanged(\'propertyiMazing_list\')"></select></dd></dl><div class="button-box"><span class="up-button button" onclick="__EDITOR__.moveUpFileList(\'__ID__propertyiMazing_list\'); return false" title="'+_t("\uc120\ud0dd\ud55c \ud56d\ubaa9\uc744 \uc704\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4.")+
'"><span class="text">'+_t("\uc704\ub85c")+'</span></span><span class="divider"> | </span><span class="dn-button button" onclick="__EDITOR__.moveDownFileList(\'__ID__propertyiMazing_list\'); return false" title="'+_t("\uc120\ud0dd\ud55c \ud56d\ubaa9\uc744 \uc544\ub798\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4.")+'"><span class="text">'+_t("\uc544\ub798\ub85c")+'</span></span></div><div id="__ID__propertyiMazing_preview" class="preview-box" style="display: none;"></div></div></div>';b+='<div id="__ID__propertyGallery" class="entry-editor-property" style="display: none;"><div class="entry-editor-property-option"><input type="checkbox" class="checkbox" id="__ID__propertyGallery-fix-position" onclick="__EDITOR__.setPropertyPosition(1); return true;"'+
(a?' checked="checked"':"")+'/><label for="__ID__propertyGallery-fix-position">'+_t("\uc704\uce58 \uace0\uc815")+"</label></div><h4>"+_t("Gallery")+'</h4><div class="group"><div class="title">'+_t("\uc124\uc815")+'</div><dl class="line"><dt class="property-name"><label for="__ID__propertyGallery_width">'+_t("\ucd5c\ub300\ub108\ube44")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyGallery_width" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyGallery_height">'+
_t("\ucd5c\ub300\ub192\uc774")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyGallery_height" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl id="__ID__propertyGallery_captionLine" class="line" style="display: none;"><dt class="property-name"><label for="__ID__propertyGallery_caption">'+_t("\uc790\ub9c9")+'</label></dt><dd><textarea class="input-text" id="__ID__propertyGallery_caption" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);"></textarea></dd></dl></div><div class="group"><div class="title">'+
_t("\ud30c\uc77c")+'</div><dl class="file-list-line line"><dd><select id="__ID__propertyGallery_list" class="file-list" size="10" onchange="__EDITOR__.listChanged(\'propertyGallery_list\')" onclick="__EDITOR__.listChanged(\'propertyGallery_list\'); return false"></select></dd></dl><div class="button-box"><span class="up-button button" onclick="__EDITOR__.moveUpFileList(\'__ID__propertyGallery_list\')" title="'+_t("\uc120\ud0dd\ud55c \ud56d\ubaa9\uc744 \uc704\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4.")+
'"><span class="text">'+_t("\uc704\ub85c")+'</span></span><span class="divider"> | </span><span class="dn-button button" onclick="__EDITOR__.moveDownFileList(\'__ID__propertyGallery_list\')" title="'+_t("\uc120\ud0dd\ud55c \ud56d\ubaa9\uc744 \uc544\ub798\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4.")+'"><span class="text">'+_t("\uc544\ub798\ub85c")+'</span></span></div><div id="__ID__propertyGallery_preview" class="preview-box" style="display: none;"></div></div></div>';b+='<div id="__ID__propertyJukebox" class="entry-editor-property" style="display: none;"><div class="entry-editor-property-option"><input type="checkbox" class="checkbox" id="__ID__propertyJukebox-fix-position" onclick="__EDITOR__.setPropertyPosition(1); return true;"'+
(a?' checked="checked"':"")+'/><label for="__ID__propertyJukebox-fix-position">'+_t("\uc704\uce58 \uace0\uc815")+"</label></div><h4>"+_t("Jukebox")+'</h4><div class="group"><dl class="line"><dt class="property-name"><label for="__ID__propertyJukebox_title">'+_t("\uc81c\ubaa9")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyJukebox_title" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl class="line"><dd><input type="checkbox" id="__ID__propertyJukebox_autoplay" onclick="__EDITOR__.setProperty()" /> <label for="__ID__propertyJukebox_autoplay">'+
_t("\uc790\ub3d9\uc7ac\uc0dd")+'</label></dd></dl><dl class="line"><dd><input type="checkbox" id="__ID__propertyJukebox_visibility" onclick="__EDITOR__.setProperty()" /> <label for="__ID__propertyJukebox_visibility">'+_t("\ud50c\ub808\uc774\uc5b4 \ubcf4\uc774\uae30")+'</label></dd></dl></div><div class="group"><div class="title">'+_t("\ud30c\uc77c")+'</div><dl class="file-list-line line"><dd><select id="__ID__propertyJukebox_list" class="file-list" size="10" onchange="__EDITOR__.listChanged(\'propertyJukebox_list\')" onclick="__EDITOR__.listChanged(\'propertyJukebox_list\')"></select></dd></dl><div class="button-box"><span class="up-button button" onclick="__EDITOR__.moveUpFileList(\'__ID__propertyJukebox_list\')" title="'+
_t("\uc120\ud0dd\ud55c \ud56d\ubaa9\uc744 \uc704\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4.")+'"><span class="text">'+_t("\uc704\ub85c")+'</span></span><span class="divider"> | </span><span class="dn-button button" onclick="__EDITOR__.moveDownFileList(\'__ID__propertyJukebox_list\')" title="'+_t("\uc120\ud0dd\ud55c \ud56d\ubaa9\uc744 \uc544\ub798\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4.")+'"><span class="text">'+_t("\uc544\ub798\ub85c")+"</span></span></div></div></div>";b+='<div id="__ID__propertyEmbed" class="entry-editor-property" style="display: none;"><div class="entry-editor-property-option"><input type="checkbox" class="checkbox" id="__ID__propertyEmbed-fix-position" onclick="__EDITOR__.setPropertyPosition(1); return true;"'+
(a?' checked="checked"':"")+'/><label for="__ID__propertyEmbed-fix-position">'+_t("\uc704\uce58 \uace0\uc815")+"</label></div><h4>"+_t("Embed")+'</h4><div class="group"><dl class="line"><dt class="property-name"><label for="__ID__propertyEmbed_width">'+_t("\ud3ed")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyEmbed_width" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyEmbed_height">'+
_t("\ub192\uc774")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyEmbed_height" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyEmbed_src"><acronym class="text" title="Uniform Resource Locator">URL</acronym></label></dt><dd><input type="text" class="input-text" id="__ID__propertyEmbed_src" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl></div></div>';
b+='<div id="__ID__propertyFlash" class="entry-editor-property" style="display: none;"><div class="entry-editor-property-option"><input type="checkbox" class="checkbox" id="__ID__propertyFlash-fix-position" onclick="__EDITOR__.setPropertyPosition(1); return true;"'+(a?' checked="checked"':"")+'/><label for="__ID__propertyFlash-fix-position">'+_t("\uc704\uce58 \uace0\uc815")+"</label></div><h4>"+_t("Embed")+'</h4><div class="group"><dl class="line"><dt class="property-name"><label for="__ID__propertyFlash_width">'+
_t("\ud3ed")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyFlash_width" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyFlash_height">'+_t("\ub192\uc774")+'</label></dt><dd><input type="text" class="input-text" id="__ID__propertyFlash_height" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyFlash_src">URL</label></dt><dd><input type="text" class="input-text" id="__ID__propertyFlash_src" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl></div></div>';
b+='<div id="__ID__propertyMoreLess" class="entry-editor-property" style="display: none;"><div class="entry-editor-property-option"><input type="checkbox" class="checkbox" id="__ID__propertyMoreLess-fix-position" onclick="__EDITOR__.setPropertyPosition(1); return true;"'+(a?' checked="checked"':"")+'/><label for="__ID__propertyMoreLess-fix-position">'+_t("\uc704\uce58 \uace0\uc815")+"</label></div><h4>"+_t("More/Less")+'</h4><div class="group"><dl class="line"><dt class="property-name"><label for="__ID__propertyMoreLess_more">More Text</label></dt><dd><input type="text" class="input-text" id="__ID__propertyMoreLess_more" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl><dl class="line"><dt class="property-name"><label for="__ID__propertyMoreLess_less">Less Text</label></dt><dd><input type="text" class="input-text" id="__ID__propertyMoreLess_less" onkeyup="__EDITOR__.setProperty()" onkeypress="return preventEnter(event);" /></dd></dl></div></div>';
b=b.replace(new RegExp("__EDITOR__","g"),"TTModernEditor.editors."+this.name);b=b.replace(new RegExp("__ID__","g"),this.id);a=document.createElement("div");a.id="property-section";a.className="section";a.innerHTML=b;return a};
TTModernEditor.prototype.changeEditorMode=function(){editWindow=document.getElementById("editWindow");var a=document.getElementById(this.id+"indicatorMode");if(editWindow.style.display=="block"||editWindow.style.display=="inline")if(document.getElementById("visualEditorWindow")){a.className=a.className.replace("inactive-class","active-class");a.innerHTML='<span class="text">'+_t("HTML \ubaa8\ub4dc")+"</span>";a.setAttribute("title",_t("\ud074\ub9ad\ud558\uc2dc\uba74 WYSIWYG \ubaa8\ub4dc\ub85c \ubcc0\uacbd\ud569\ub2c8\ub2e4."))}else{a.className=
a.className.replace("inactive-class","active-class");a.innerHTML='<span class="text">'+_t("HTML \ubaa8\ub4dc")+"</span>";a.removeAttribute("title")}else{a.className=a.className.replace("active-class","inactive-class");a.setAttribute("title",_t("\ud074\ub9ad\ud558\uc2dc\uba74 HTML \ubaa8\ub4dc\ub85c \ubcc0\uacbd\ud569\ub2c8\ub2e4."));a.innerHTML='<span class="text">'+_t("WYSIWYG \ubaa8\ub4dc")+"</span>"}};
TTModernEditor.prototype.changeButtonStatus=function(a,b){if(!document.getElementById(this.id+"indicatorColorPalette").className.match("inactive-class"))document.getElementById(this.id+"indicatorColorPalette").className=document.getElementById(this.id+"indicatorColorPalette").className.replace("active-class","inactive-class");if(!document.getElementById(this.id+"indicatorMarkPalette").className.match("inactive-class"))document.getElementById(this.id+"indicatorMarkPalette").className=document.getElementById(this.id+
"indicatorMarkPalette").className.replace("active-class","inactive-class");if(!document.getElementById(this.id+"indicatorTextBox").className.match("inactive-class"))document.getElementById(this.id+"indicatorTextBox").className=document.getElementById(this.id+"indicatorTextBox").className.replace("active-class","inactive-class");if(a!=null)if(document.getElementById(b).style.display=="block")a.className=a.className.replace("inactive-class","active-class");else if(!a.className.match("inactive-class"))a.className=
a.className.replace("active-class","inactive-class")};
