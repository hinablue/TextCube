/*
	Copyright (c) 2004-2006, The Dojo Foundation
	All Rights Reserved.

	Licensed under the Academic Free License version 2.1 or above OR the
	modified BSD license. For more information on Dojo licensing, see:

		http://dojotoolkit.org/community/licensing.shtml
*/dojo.provide("dojo.ns"),dojo.ns={namespaces:{},failed:{},loading:{},loaded:{},register:function(a,b,c,d){if(!d||!this.namespaces[a])this.namespaces[a]=new dojo.ns.Ns(a,b,c)},allow:function(a){if(this.failed[a])return!1;if(djConfig.excludeNamespace&&dojo.lang.inArray(djConfig.excludeNamespace,a))return!1;return a==this.dojo||!djConfig.includeNamespace||dojo.lang.inArray(djConfig.includeNamespace,a)},get:function(a){return this.namespaces[a]},require:function(a){var b=this.namespaces[a];if(b&&this.loaded[a])return b;if(!this.allow(a))return!1;if(this.loading[a]){dojo.debug('dojo.namespace.require: re-entrant request to load namespace "'+a+'" must fail.');return!1}var c=dojo.require;this.loading[a]=!0;try{a=="dojo"?c("dojo.namespaces.dojo"):(dojo.hostenv.moduleHasPrefix(a)||dojo.registerModulePath(a,"../"+a),c([a,"manifest"].join("."),!1,!0)),this.namespaces[a]||(this.failed[a]=!0)}finally{this.loading[a]=!1}return this.namespaces[a]}},dojo.ns.Ns=function(a,b,c){this.name=a,this.module=b,this.resolver=c,this._loaded=[],this._failed=[]},dojo.ns.Ns.prototype.resolve=function(a,b,c){if(!this.resolver||djConfig.skipAutoRequire)return!1;var d=this.resolver(a,b);if(d&&!this._loaded[d]&&!this._failed[d]){var e=dojo.require;e(d,!1,!0),dojo.hostenv.findModule(d,!1)?this._loaded[d]=!0:(c||dojo.raise("dojo.ns.Ns.resolve: module '"+d+"' not found after loading via namespace '"+this.name+"'"),this._failed[d]=!0)}return Boolean(this._loaded[d])},dojo.registerNamespace=function(a,b,c){dojo.ns.register.apply(dojo.ns,arguments)},dojo.registerNamespaceResolver=function(a,b){var c=dojo.ns.namespaces[a];c&&(c.resolver=b)},dojo.registerNamespaceManifest=function(a,b,c,d,e){dojo.registerModulePath(c,b),dojo.registerNamespace(c,d,e)},dojo.registerNamespace("dojo","dojo.widget")