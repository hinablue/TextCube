/// Copyright (c) 2005-2009. Tatter & Company / Needlworks
/// All rights reserved. Licensed under the GPL.
/// See the GNU General Public License for more details. (/documents/LICENSE, /documents/COPYRIGHT)
// Depends on jQuery 1.2.6 or later (from 2008/12/05, r7131)
//<![CDATA[
function PageHolder(a,b){PM.addHolder(this);switch(arguments.length){default:case 2:this.message=b;case 1:this._holding=a;break;case 0:this._holding=!0}}function FileUploadRequest(){}function HTTPRequest(){switch(arguments.length){case 0:break;case 1:this.url=this.parseURL(arguments[0]);break;default:case 3:this.async=arguments[2];case 2:this.method=arguments[0],this.url=this.parseURL(arguments[1])}try{this._request=new XMLHttpRequest}catch(a){var b=["MSXML2.XMLHTTP.5.0","MSXML2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];for(var c=0;c<b.length;c++)try{this._request=new ActiveXObject(b[c]);break}catch(a){}if(this._request==null)return null}this._properties=[],this._attributes=[],this._userData=[]}function PageMaster(){this._status=null,this._messages=[],this._requests=[],this._holders=[],this._timer=null,window.addEventListener("load",PageMaster.prototype._onLoad,!1),window.addEventListener("beforeunload",PageMaster.prototype._onBeforeUnload,!1)}function Standardizer(){}function getObject(a){try{switch(typeof a){case"undefined":return null;case"object":return a;default:return document.getElementById(a)}}catch(b){return null}}Standardizer.prototype.namespace="Eolin.Application.Framework",Standardizer.prototype.name="Eolin Standardizer",Standardizer.prototype.verion="1.0",Standardizer.prototype.copyright="Copyright (c) 2005,2008 Needlworks / Tatter & Company. All rights reserved.";var ua=navigator.userAgent;Standardizer.prototype.isIE=ua.indexOf("MSIE")>=0&&document.all,Standardizer.prototype.isIE&&(Standardizer.prototype.browserVersion=parseFloat(ua.substr(Math.max(ua.indexOf("MSIE"),0)+4,4)),Standardizer.prototype.engineVersion=Standardizer.prototype.browserVersion),Standardizer.prototype.isFirefox=ua.indexOf("Firefox")>=0||ua.toLowerCase().indexOf("iceweasel")>=0||ua.indexOf("Minefield")>0,Standardizer.prototype.isFirefox&&(Standardizer.prototype.browserVersion=parseFloat(ua.substr(ua.indexOf("Firefox/")+8,10)),Standardizer.prototype.engineVersion=parseFloat(ua.substr(Math.max(ua.indexOf("rv:"),0)+3,7))),webkitIndex=Math.max(ua.indexOf("WebKit"),ua.indexOf("Safari"),0),Standardizer.prototype.isSafari=ua.indexOf("Safari")>=0,Standardizer.prototype.isWebkit=webkitIndex>0,Standardizer.prototype.isWebkit&&(Standardizer.prototype.browserVersion=parseFloat(ua.split("Version/")[1])||(parseFloat(ua.substr(webkitIndex+7))>=419.3?3:2)||2,Standardizer.prototype.engineVersion=parseFloat(ua.substr(webkitIndex+7))),Standardizer.prototype.isOpera=!Standardizer.prototype.isIE&&ua.indexOf("Opera")>=0,Standardizer.prototype.isMozilla=!Standardizer.prototype.isIE&&!Standardizer.prototype.isFirefox&&!Standardizer.prototype.isSafari&&!Standardizer.prototype.isOpera&&ua.indexOf("Mozilla")>=0,Standardizer.prototype.addEventListener=function(a){a.addEventListener||(a.addEventListener=function(a,b,c){this.attachEvent("on"+a,b)}),a.removeEventListener||(a.removeEventListener=function(a,b,c){this.detachEvent("on"+a,b)})},Standardizer.prototype.removeEventListener=function(a){a.removeEventListener||(a.removeEventListener=function(a,b,c){this.detachEvent("on"+a,b)})},Standardizer.prototype.event=function(a){if(window.event){a=window.event;if(a.target)return a;a.srcElement&&(a.target=a.srcElement),a.preventDefault==undefined&&(a.preventDefault=function(){this.returnValue=!1})}return a},Standardizer.prototype.getScrollTop=function(){return this.isSafari?document.body.scrollTop:document.documentElement.scrollTop},Standardizer.prototype.getScrollLeft=function(){return this.isSafari?document.body.scrollLeft:document.documentElement.scrollLeft},Standardizer.prototype.addLoadEventListener=function(a){jQuery.isFunction(a)&&jQuery(a)},Standardizer.prototype.addUnloadEventListener=function(a){jQuery.isFunction(a)&&jQuery(document).bind("unload",a)},Standardizer.prototype.querySelector=function(a){if(typeof a!="string")return null;return jQuery(a)[0]},Standardizer.prototype.querySelectorAll=function(a){if(typeof a!="string")return null;return jQuery(a)};var STD=new Standardizer;STD.addEventListener(window);var KeyCode=new function(){this.framework="Eolin AJAX Framework",this.name="Eolin LogViewer",this.verion="1.0",this.copyright="Copyright (c) 2005, Tatter & Company / Needlworks / Tatter Network Foundation. All rights reserved.",this.A=65,this.B=66,this.C=67,this.D=68,this.E=69,this.F=70,this.G=71,this.H=72,this.I=73,this.J=74,this.K=75,this.L=76,this.M=77,this.N=78,this.O=79,this.P=80,this.Q=81,this.R=82,this.S=83,this.T=84,this.U=85,this.V=86,this.W=87,this.X=88,this.Y=89,this.Z=90,this.Down=40,this.Up=38,this.Left=37,this.Right=39};PageMaster.prototype.namespace="Eolin.Application.Framework",PageMaster.prototype.name="Eolin Page Master",PageMaster.prototype.verion="1.0",PageMaster.prototype.copyright="Copyright (c) 2005, Tatter & Company / Needlworks / Tatter Network Foundation. All rights reserved.",PageMaster.prototype.message="아직 처리중인 작업이 있습니다.",PageMaster.prototype._onLoad=function(a){PM._status=document.createElement("div"),PM._status.style.position="absolute",PM._status.className="ajaxMessage ajaxProcessingMessage",PM._status.style.color="white",PM._status.style.backgroundColor="navy",PM._status.style.margin="0px",PM._status.style.paddingLeft="10px",PM._status.style.paddingRight="10px",STD.addEventListener(window),window.addEventListener("scroll",PageMaster.prototype._updateStatus,!1),window.addEventListener("resize",PageMaster.prototype._updateStatus,!1)},PageMaster.prototype._showStatus=function(){PM._status.parentNode!=document.body&&(document.body.appendChild(this._status),this._updateStatus())},PageMaster.prototype._hideStatus=function(){PM._status.parentNode==document.body&&document.body.removeChild(PM._status)},PageMaster.prototype._updateStatus=function(){PM._status.parentNode==document.body&&(PM._status.style.top=(STD.isSafari?document.body.scrollTop:document.documentElement.scrollTop)+"px",PM._status.style.left=(STD.isSafari?document.body.scrollLeft:document.documentElement.scrollLeft)+document.documentElement.clientWidth-PM._status.offsetWidth+"px"),PM.updateMessages()},PageMaster.prototype.showMessage=function(a,b,c,d){if(typeof a!="string"||a.length==0)return-1;b==undefined&&(b="center"),c==undefined&&(c="middle"),d==undefined&&(d=3e3);var e=document.createElement("div");e.innerHTML=a,e.style.position="absolute",e.className="ajaxMessage ajaxSuccessMessage",e.style.color="white",e.style.backgroundColor="green",e.style.margin="0px",e.style.paddingLeft="10px",e.style.paddingRight="10px",e._align=b,e._valign=c,document.body.appendChild(e);var f=this._messages.push(e)-1;this.updateMessages(),window.setTimeout("PM._hideMessage("+f+")",d);return f},PageMaster.prototype.showErrorMessage=function(a,b,c,d){if(typeof a!="string"||a.length==0)return-1;b==undefined&&(b="center"),c==undefined&&(c="middle"),d==undefined&&(d=3e3);var e=document.createElement("div");e.innerHTML=a,e.style.position="absolute",e.className="ajaxMessage ajaxErrorMessage",e.style.color="white",e.style.backgroundColor="red",e.style.margin="0px",e.style.paddingLeft="10px",e.style.paddingRight="10px",e._align=b,e._valign=c,document.body.appendChild(e);var f=this._messages.push(e)-1;this.updateMessages(),window.setTimeout("PM._hideMessage("+f+")",d);return f},PageMaster.prototype._hideMessage=function(a){document.body.removeChild(this._messages[a]),this._messages.splice(a,1,null);while(this._messages.length>0&&this._messages[this._messages.length-1]==null)this._messages.pop()},PageMaster.prototype.updateMessages=function(){for(var a=0;a<this._messages.length;a++){if(this._messages[a]==null)continue;switch(this._messages[a]._align){case"left":this._messages[a].style.left=STD.getScrollLeft()+"px";break;case"center":this._messages[a].style.left=STD.getScrollLeft()+(document.documentElement.clientWidth-this._messages[a].offsetWidth)/2+"px";break;case"right":this._messages[a].style.left=STD.getScrollLeft()+document.documentElement.clientWidth-this._messages[a].offsetWidth+"px"}switch(this._messages[a]._valign){case"top":this._messages[a].style.top=STD.getScrollTop()+"px";break;case"middle":this._messages[a].style.top=STD.getScrollTop()+(document.documentElement.clientHeight-this._messages[a].offsetHeight)/2+"px";break;case"bottom":this._messages[a].style.top=STD.getScrollTop()+document.documentElement.clientHeight-this._messages[a].offsetHeight+"px"}}},PageMaster.prototype.addRequest=function(a,b){this._requests.push([a,b]),this._status&&b!=undefined&&(this._status.innerHTML+=b,this._showStatus())},PageMaster.prototype.removeRequest=function(a){for(var b=0;b<this._requests.length;b++)if(this._requests[b][0]==a){this._requests.splice(b,1);break}var c="";for(var b=0;b<this._requests.length;b++)this._requests[b][1]!=undefined&&(c+=this._requests[b][1]);this._status&&(this._status.innerHTML=c,c.length==0?this._hideStatus():this._updateStatus())},PageMaster.prototype.addHolder=function(a){this._holders.push(a)},PageMaster.prototype.removeHolder=function(a){for(var b=0;b<this._holders.length;b++)if(this._holders[b]==a){this._holders.splice(b,1);return}},PageMaster.prototype.showPanel=function(a,b,c){try{typeof a=="string"&&(a=document.getElementById(a));if(typeof a!="object")return;a.style.position="absolute",a.style.display="block";switch(b){case"left":a.style.left=STD.getScrollLeft()+"px";break;default:case"center":a.style.left=STD.getScrollLeft()+(document.documentElement.clientWidth-a.offsetWidth)/2+"px";break;case"right":a.style.left=STD.getScrollLeft()+document.documentElement.clientWidth-a.offsetWidth+"px"}switch(c){case"top":a.style.top=STD.getScrollTop()+"px";break;default:case"middle":a.style.top=STD.getScrollTop()+(document.documentElement.clientHeight-a.offsetHeight)/2+"px";break;case"bottom":a.style.top=STD.getScrollTop()+document.documentElement.clientHeight-a.offsetHeight+"px"}}catch(d){}},PageMaster.prototype._onBeforeUnload=function(a){a=STD.event(a);if(PM._requests.length>0)a.returnValue=PM.message;else for(var b=0;b<PM._holders.length;b++)if(PM._holders[b].isHolding()){a.returnValue=PM._holders[b].message;return}};var PM=new PageMaster;HTTPRequest.prototype.namespace="Eolin.Application.Framework",HTTPRequest.prototype.name="Eolin HTTPXMLRequest Processor",HTTPRequest.prototype.verion="1.7",HTTPRequest.prototype.copyright="Copyright (c) 2005, Tatter & Company / Needlworks / Tatter Network Foundation. All rights reserved.",HTTPRequest.prototype.method="GET",HTTPRequest.prototype.url=null,HTTPRequest.prototype.id=null,HTTPRequest.prototype.getfragment="",HTTPRequest.prototype.contentType="application/x-www-form-urlencoded",HTTPRequest.prototype.content="",HTTPRequest.prototype.async=!0,HTTPRequest.prototype.cache=!1,HTTPRequest.prototype.persistent=!0,HTTPRequest.prototype.timeout=0,HTTPRequest.prototype.message="Requesting...",HTTPRequest.prototype.onVerify=function(){return this.getText("/response/error")==0},HTTPRequest.prototype.onExecute=function(){},HTTPRequest.prototype.onSuccess=function(){},HTTPRequest.prototype.onError=function(){},HTTPRequest.prototype.presetProperty=function(a,b,c,d){if(d==undefined){d=a[b];if(c==d)return}a[b]=c;c!=d&&this._properties.push([a,b,d])},HTTPRequest.prototype.presetAttribute=function(a,b,c,d){if(d==undefined){d=a.getAttribute(b);if(c==d)return}a.setAttribute(b,c);c!=d&&this._attributes.push([a,b,d])},HTTPRequest.prototype.send=function(){this.persistent&&PM.addRequest(this);if(this.async){var a=this;this._request.onreadystatechange=function(){if(a._request.readyState==4){a.persistent&&PM.removeRequest(a);if(a.onVerify())a.onSuccess();else{for(var b in a._properties)a._properties[b]instanceof Array&&(a._properties[b][0][a._properties[b][1]]=a._properties[b][2]);for(var b in a._attributes)a._attributes[b]instanceof Array&&a._attributes[b][0].setAttribute(a._attributes[b][1],a._attributes[b][2]);a.onError()}}}}this.method=="GET"&&(this.getfragment.length>0?(this.url=this.url+this.getfragment,this.id!=null&&(this.url=this.url+"&id="+this.id)):this.id!=null&&(this.url=this.url+"?id="+this.id)),this.cache?this._request.open(this.method,this.url,this.async):this.url.lastIndexOf("?")>=0?this._request.open(this.method,this.url+"&__T__="+(new Date).getTime(),this.async):this._request.open(this.method,this.url+"?__T__="+(new Date).getTime(),this.async),STD.isFirefox&&this._request.setRequestHeader("Referer",location.href),arguments.length>0&&(this.content=arguments[0]),this.content.length>0&&this._request.setRequestHeader("Content-Type",this.contentType),this.timeout>0&&(this._request.setRequestHeader("Connection","Keep-Alive"),this._request.setRequestHeader("Keep-Alive","timeout="+this.timeout)),this._request.send(this.content);if(!this.async){this.persistent&&PM.removeRequest(this);if(this.onVerify())this.onSuccess();else{for(var b in this._properties)this._properties[b]instanceof Array&&(this._properties[b][0][this._properties[b][1]]=this._properties[b][2]);for(var b in this._attributes)this._attributes[b]instanceof Array&&this._attributes[b][0].setAttribute(this._attributes[b][1],this._attributes[b][2]);this.onError()}}},HTTPRequest.prototype.getText=function(a){try{if(a==undefined)return this._request.responseText;var b=a.split("/");if(b[0]!="")return null;var c=this._request.responseXML.documentElement;if(c.nodeName!=b[1])return null;for(var d=2;d<b.length;d++){for(var e=0;e<c.childNodes.length;e++)if(c.childNodes[e].nodeName==b[d]){c=c.childNodes[e],e=-1;break}if(e!=-1)return null}if(c.text)return c.text;return this._getText(c)}catch(f){return null}},HTTPRequest.prototype._getText=function(a){var b="";a.nodeValue&&(b+=a.nodeValue);for(var c=0;c<a.childNodes.length;c++)b+=this._getText(a.childNodes[c]);return b},HTTPRequest.prototype.parseURL=function(a){return a},HTTPRequest.prototype.setTimeout=function(a){this.timeout=a},FileUploadRequest.prototype.namespace="Eolin.Application.Framework",FileUploadRequest.prototype.name="Eolin File Upload Request",FileUploadRequest.prototype.verion="1.0",FileUploadRequest.prototype.copyright="Copyright (c) 2005, Tatter & Company. All rights reserved.",FileUploadRequest.prototype.message="Uploading...",FileUploadRequest.prototype.autoDelete=!1,FileUploadRequest.prototype.reset=function(){typeof this._form=="object"&&(STD.removeEventListener(this._form),this._form.removeEventListener("submit",FileUploadRequest.prototype._onsubmit,!1)),typeof this._target=="object"&&(STD.removeEventListener(this._target),this._target.removeEventListener("load",FileUploadRequest.prototype._onload,!1))},FileUploadRequest.prototype.bind=function(a,b){this.reset();switch(typeof a){case"object":this._form=a;break;case"string":this._form=document.getElementById(a);if(this._form)break;default:return!1}switch(typeof b){case"object":this._target=b;break;case"string":this._target=document.getElementById(b);if(this._target)break;default:return!1}this._form.target!=this._target.name&&(this._form.target=this._target.name),STD.addEventListener(this._form),this._form.addEventListener("submit",FileUploadRequest.prototype._onsubmit,!1),STD.addEventListener(this._target),this._form.upload=function(){PM.addRequest(this._instance,"Uploading..."),this.submit()},this._target.addEventListener("load",FileUploadRequest.prototype._onload,!1),this._form._instance=this,this._target._instance=this;return!0},FileUploadRequest.prototype._onsubmit=function(a){a=STD.event(a),a.target._instance.setRunning(!0)},FileUploadRequest.prototype._onload=function(a){a=STD.event(a);var b=a.target?a.target._instance:this._instance;PM.removeRequest(b)},PageHolder.prototype.namespace="Eolin.Application.Framework",PageHolder.prototype.name="Eolin Page Holder",PageHolder.prototype.verion="1.0",PageHolder.prototype.copyright="Copyright (c) 2005, Tatter & Company. All rights reserved.",PageHolder.prototype.message="Wait..",PageHolder.prototype.autoDelete=!1,PageHolder.prototype.isHolding=function(){return this._holding},PageHolder.prototype.hold=function(){this._holding=!0},PageHolder.prototype.release=function(){this._holding=!1}